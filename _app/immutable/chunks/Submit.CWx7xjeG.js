import{s as tt,n as Ae,a as Ke}from"./scheduler.BTxe7vy0.js";import{S as it,i as nt,e as te,c as ie,a as ue,d as ne,l as Q,m as we,g as Re,E as ht,G as ze,s as Ee,t as je,k as Ue,f as Te,b as Be,h as X,j as st}from"./index.B9OGSCv7.js";import{K as ut,M as ft}from"./Map.Uu4rPlGa.js";function He(w){return(w==null?void 0:w.length)!==void 0?w:Array.from(w)}class oe extends Error{constructor(e){var t,i,s,h;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,oe.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof oe||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(h=(s=(i=this.originalError)==null?void 0:i.cause)==null?void 0:s.message)!=null&&h.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Ie=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function dt(w,e){const t={};if(typeof w!="string")return t;const i=Object.assign({},{}).decode||pt;let s=0;for(;s<w.length;){const h=w.indexOf("=",s);if(h===-1)break;let d=w.indexOf(";",s);if(d===-1)d=w.length;else if(d<h){s=w.lastIndexOf(";",h-1)+1;continue}const v=w.slice(s,h).trim();if(t[v]===void 0){let A=w.slice(h+1,d).trim();A.charCodeAt(0)===34&&(A=A.slice(1,-1));try{t[v]=i(A)}catch{t[v]=A}}s=d+1}return t}function Ve(w,e,t){const i=Object.assign({},t||{}),s=i.encode||mt;if(!Ie.test(w))throw new TypeError("argument name is invalid");const h=s(e);if(h&&!Ie.test(h))throw new TypeError("argument val is invalid");let d=w+"="+h;if(i.maxAge!=null){const v=i.maxAge-0;if(isNaN(v)||!isFinite(v))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(v)}if(i.domain){if(!Ie.test(i.domain))throw new TypeError("option domain is invalid");d+="; Domain="+i.domain}if(i.path){if(!Ie.test(i.path))throw new TypeError("option path is invalid");d+="; Path="+i.path}if(i.expires){if(!function(A){return Object.prototype.toString.call(A)==="[object Date]"||A instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");d+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(d+="; HttpOnly"),i.secure&&(d+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return d}function pt(w){return w.indexOf("%")!==-1?decodeURIComponent(w):w}function mt(w){return encodeURIComponent(w)}let rt;function Pe(w){if(w)try{const e=decodeURIComponent(rt(w.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function ot(w,e=0){let t=Pe(w);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}rt=typeof atob=="function"?atob:w=>{let e=String(w).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,s=0,h=0,d="";i=e.charAt(h++);~i&&(t=s%4?64*t+i:i,s++%4)?d+=String.fromCharCode(255&t>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return d};const We="pb_auth";class gt{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!ot(this.token)}get isAdmin(){return Pe(this.token).type==="admin"}get isAuthRecord(){return Pe(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=We){const i=dt(e||"")[t]||"";let s={};try{s=JSON.parse(i),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(e,t=We){var A,k;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Pe(this.token);i.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const h={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let d=Ve(t,JSON.stringify(h),e);const v=typeof Blob<"u"?new Blob([d]).size:d.length;if(h.model&&v>4096){h.model={id:(A=h==null?void 0:h.model)==null?void 0:A.id,email:(k=h==null?void 0:h.model)==null?void 0:k.email};const C=["collectionId","username","verified"];for(const _ in this.model)C.includes(_)&&(h.model[_]=this.model[_]);d=Ve(t,JSON.stringify(h),e)}return d}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class wt extends gt{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class ve{constructor(e){this.client=e}}class yt extends ve{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,i,s,h,d){return d=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:s,duration:h}},d),this.client.send("/api/settings/apple/generate-client-secret",d)}}class Me extends ve{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(s=>{var h;return s.items=((h=s.items)==null?void 0:h.map(d=>this.decode(d)))||[],s})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var s;if(!((s=i==null?void 0:i.items)!=null&&s.length))throw new oe({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new oe({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(s=>this.decode(s))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],s=async h=>this.getList(h,e||500,t).then(d=>{const v=d.items;return i=i.concat(v),v.length==d.perPage?s(h+1):i});return s(1)}}function re(w,e,t,i){const s=i!==void 0;return s||t!==void 0?s?(console.warn(w),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function De(w){var e;(e=w._resetAutoRefresh)==null||e.call(w)}class bt extends Me{get baseCrudPath(){return"/api/admins"}async update(e,t,i){return super.update(e,t,i).then(s=>{var h,d;return((h=this.client.authStore.model)==null?void 0:h.id)===s.id&&((d=this.client.authStore.model)==null?void 0:d.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(i=>{var s,h;return i&&((s=this.client.authStore.model)==null?void 0:s.id)===e&&((h=this.client.authStore.model)==null?void 0:h.collectionId)===void 0&&this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,i,s){let h={method:"POST",body:{identity:e,password:t}};h=re("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",h,i,s);const d=h.autoRefreshThreshold;delete h.autoRefreshThreshold,h.autoRefresh||De(this.client);let v=await this.client.send(this.baseCrudPath+"/auth-with-password",h);return v=this.authResponse(v),d&&function(k,C,_,fe){De(k);const V=k.beforeSend,P=k.authStore.model,de=k.authStore.onChange((x,R)=>{(!x||(R==null?void 0:R.id)!=(P==null?void 0:P.id)||(R!=null&&R.collectionId||P!=null&&P.collectionId)&&(R==null?void 0:R.collectionId)!=(P==null?void 0:P.collectionId))&&De(k)});k._resetAutoRefresh=function(){de(),k.beforeSend=V,delete k._resetAutoRefresh},k.beforeSend=async(x,R)=>{var se;const le=k.authStore.token;if((se=R.query)!=null&&se.autoRefresh)return V?V(x,R):{url:x,sendOptions:R};let D=k.authStore.isValid;if(D&&ot(k.authStore.token,C))try{await _()}catch{D=!1}D||await fe();const Y=R.headers||{};for(let H in Y)if(H.toLowerCase()=="authorization"&&le==Y[H]&&k.authStore.token){Y[H]=k.authStore.token;break}return R.headers=Y,V?V(x,R):{url:x,sendOptions:R}}}(this.client,d,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},h))),v}async authRefresh(e,t){let i={method:"POST"};return i=re("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=re("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,i,s,h){let d={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return d=re("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",d,s,h),this.client.send(this.baseCrudPath+"/confirm-password-reset",d).then(()=>!0)}}const St=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function at(w){if(w){w.query=w.query||{};for(let e in w)St.includes(e)||(w.query[e]=w[e],delete w[e])}}class ct extends ve{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var d;if(!e)throw new Error("topic must be set.");let s=e;if(i){at(i);const v="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));s+=(s.includes("?")?"&":"?")+v}const h=function(v){const A=v;let k;try{k=JSON.parse(A==null?void 0:A.data)}catch{}t(k||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(h),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(d=this.eventSource)==null||d.addEventListener(s,h):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,h)}async unsubscribe(e){var i;let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let h in s)if(this.hasSubscriptionListeners(h)){for(let d of this.subscriptions[h])(i=this.eventSource)==null||i.removeEventListener(h,d);delete this.subscriptions[h],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let s in this.subscriptions)if((s+"?").startsWith(e)){t=!0;for(let h of this.subscriptions[s])(i=this.eventSource)==null||i.removeEventListener(s,h);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var h;let i=!1;const s=this.getSubscriptionsByTopic(e);for(let d in s){if(!Array.isArray(this.subscriptions[d])||!this.subscriptions[d].length)continue;let v=!1;for(let A=this.subscriptions[d].length-1;A>=0;A--)this.subscriptions[d][A]===t&&(v=!0,delete this.subscriptions[d][A],this.subscriptions[d].splice(A,1),(h=this.eventSource)==null||h.removeEventListener(d,t));v&&(this.subscriptions[d].length||delete this.subscriptions[d],i||this.hasSubscriptionListeners(d)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let s in this.subscriptions)if((i=this.subscriptions[s])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in i)for(let h of i[s])h(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new oe(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class vt extends Me{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(s=>{var h,d,v;return((h=this.client.authStore.model)==null?void 0:h.id)!==(s==null?void 0:s.id)||((d=this.client.authStore.model)==null?void 0:d.collectionId)!==this.collectionIdOrName&&((v=this.client.authStore.model)==null?void 0:v.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(i=>{var s,h,d;return!i||((s=this.client.authStore.model)==null?void 0:s.id)!==e||((h=this.client.authStore.model)==null?void 0:h.collectionId)!==this.collectionIdOrName&&((d=this.client.authStore.model)==null?void 0:d.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,i,s){let h={method:"POST",body:{identity:e,password:t}};return h=re("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",h,i,s),this.client.send(this.baseCollectionPath+"/auth-with-password",h).then(d=>this.authResponse(d))}async authWithOAuth2Code(e,t,i,s,h,d,v){let A={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:s,createData:h}};return A=re("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",A,d,v),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",A).then(k=>this.authResponse(k))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},i=(await this.listAuthMethods()).authProviders.find(A=>A.name===t.provider);if(!i)throw new oe(new Error(`Missing or invalid provider "${t.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),h=new ct(this.client);let d=null;function v(){d==null||d.close(),h.unsubscribe()}return t.urlCallback||(d=Je(void 0)),new Promise(async(A,k)=>{var C;try{await h.subscribe("@oauth2",async P=>{const de=h.clientId;try{if(!P.state||de!==P.state)throw new Error("State parameters don't match.");const x=Object.assign({},t);delete x.provider,delete x.scopes,delete x.createData,delete x.urlCallback;const R=await this.authWithOAuth2Code(i.name,P.code,i.codeVerifier,s,t.createData,x);A(R)}catch(x){k(new oe(x))}v()});const _={state:h.clientId};(C=t.scopes)!=null&&C.length&&(_.scope=t.scopes.join(" "));const fe=this._replaceQueryParams(i.authUrl+s,_);await(t.urlCallback||function(P){d?d.location.href=P:d=Je(P)})(fe)}catch(_){v(),k(new oe(_))}})}async authRefresh(e,t){let i={method:"POST"};return i=re("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(s=>this.authResponse(s))}async requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=re("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,i,s,h){let d={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return d=re("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",d,s,h),this.client.send(this.baseCollectionPath+"/confirm-password-reset",d).then(()=>!0)}async requestVerification(e,t,i){let s={method:"POST",body:{email:e}};return s=re("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(e,t,i){let s={method:"POST",body:{token:e}};return s=re("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>!0)}async requestEmailChange(e,t,i){let s={method:"POST",body:{newEmail:e}};return s=re("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(e,t,i,s){let h={method:"POST",body:{token:e,password:t}};return h=re("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",h,i,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",h).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then(()=>!0)}_replaceQueryParams(e,t={}){let i=e,s="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const h={},d=s.split("&");for(const v of d){if(v=="")continue;const A=v.split("=");h[decodeURIComponent(A[0].replace(/\+/g," "))]=decodeURIComponent((A[1]||"").replace(/\+/g," "))}for(let v in t)t.hasOwnProperty(v)&&(t[v]==null?delete h[v]:h[v]=t[v]);s="";for(let v in h)h.hasOwnProperty(v)&&(s!=""&&(s+="&"),s+=encodeURIComponent(v.replace(/%20/g,"+"))+"="+encodeURIComponent(h[v].replace(/%20/g,"+")));return s!=""?i+"?"+s:i}}function Je(w){if(typeof window>"u"||!(window!=null&&window.open))throw new oe(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,s=window.innerHeight;e=e>i?i:e,t=t>s?s:t;let h=i/2-e/2,d=s/2-t/2;return window.open(w,"popup_window","width="+e+",height="+t+",top="+d+",left="+h+",resizable,menubar=no")}class Ct extends Me{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}}class Ot extends ve{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new oe({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Et extends ve{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Tt extends ve{getUrl(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let h=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const d=new URLSearchParams(i);h+=(h.includes("?")?"&":"?")+d}return h}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class kt extends ve{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Ht{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new wt,this.admins=new bt(this),this.collections=new Ct(this),this.files=new Tt(this),this.logs=new Ot(this),this.settings=new yt(this),this.realtime=new ct(this),this.health=new Et(this),this.backups=new kt(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new vt(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let s=t[i];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",s)}return e}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var i;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(i,t));s.url!==void 0||s.options!==void 0?(i=s.url||i,t=s.options||t):Object.keys(s).length&&(t=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const s=this.serializeQueryParams(t.query);s&&(i+=(i.includes("?")?"&":"?")+s),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async s=>{let h={};try{h=await s.json()}catch{}if(this.afterSend&&(h=await this.afterSend(s,h)),s.status>=400)throw new oe({url:s.url,status:s.status,data:h});return h}).catch(s=>{throw new oe(s)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),at(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const s=new AbortController;this.cancelControllers[i]=s,t.signal=s.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const s=this.normalizeFormDataValue(e[i]),h=Array.isArray(s)?s:[s];if(h.length)for(const d of h)t.append(i,d);else t.append(i,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let s of i)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(e[i]===null)continue;const s=e[i],h=encodeURIComponent(i);if(Array.isArray(s))for(const d of s)t.push(h+"="+encodeURIComponent(d));else s instanceof Date?t.push(h+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?t.push(h+"="+encodeURIComponent(JSON.stringify(s))):t.push(h+"="+encodeURIComponent(s))}return t.join("&")}}const Xe=/[a-zA-Z]/,Qe=(w,e=0)=>[...Array(w).keys()].map(t=>t+e);function Ye(w,e,t){const i=w.slice();return i[7]=e[t],i}function Ze(w){let e;return{c(){e=te("div"),this.h()},l(t){e=ie(t,"DIV",{class:!0,style:!0}),ue(e).forEach(ne),this.h()},h(){Q(e,"class","dot svelte-14x3x60"),we(e,"--dotSize",+w[3]*.25+w[1]),we(e,"--color",w[0]),we(e,"animation-delay",w[7]*(+w[6]/10)+w[5]),ze(e,"pause-animation",w[4])},m(t,i){Re(t,e,i)},p(t,i){i&10&&we(e,"--dotSize",+t[3]*.25+t[1]),i&1&&we(e,"--color",t[0]),i&16&&ze(e,"pause-animation",t[4])},d(t){t&&ne(e)}}}function It(w){let e,t=He(Qe(3,1)),i=[];for(let s=0;s<t.length;s+=1)i[s]=Ze(Ye(w,t,s));return{c(){e=te("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=ie(s,"DIV",{class:!0,style:!0});var h=ue(e);for(let d=0;d<i.length;d+=1)i[d].l(h);h.forEach(ne),this.h()},h(){Q(e,"class","wrapper svelte-14x3x60"),we(e,"--size",w[3]+w[1]),we(e,"--duration",w[2])},m(s,h){Re(s,e,h);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null)},p(s,[h]){if(h&123){t=He(Qe(3,1));let d;for(d=0;d<t.length;d+=1){const v=Ye(s,t,d);i[d]?i[d].p(v,h):(i[d]=Ze(v),i[d].c(),i[d].m(e,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=t.length}h&10&&we(e,"--size",s[3]+s[1]),h&4&&we(e,"--duration",s[2])},i:Ae,o:Ae,d(s){s&&ne(e),ht(i,s)}}}function Pt(w,e,t){var C;let{color:i="#FF3E00"}=e,{unit:s="px"}=e,{duration:h="0.6s"}=e,{size:d="60"}=e,{pause:v=!1}=e,A=((C=h.match(Xe))==null?void 0:C[0])??"s",k=h.replace(Xe,"");return w.$$set=_=>{"color"in _&&t(0,i=_.color),"unit"in _&&t(1,s=_.unit),"duration"in _&&t(2,h=_.duration),"size"in _&&t(3,d=_.size),"pause"in _&&t(4,v=_.pause)},[i,s,h,d,v,A,k]}class Vt extends it{constructor(e){super(),nt(this,e,Pt,It,tt,{color:0,unit:1,duration:2,size:3,pause:4})}}const Wt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20288%20288'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%239a989e;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m4.57,226.06C38.27,158.63,71.93,91.29,105.74,23.66c15.76-31.54,60.75-31.54,76.52,0l101.17,202.41c14.22,28.46-6.46,61.94-38.26,61.94H42.83c-31.8,0-52.48-33.48-38.26-61.94Z'/%3e%3c/svg%3e",Jt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20288%20288'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23f2a99d;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m4.57,226.06C38.27,158.63,71.93,91.29,105.74,23.66c15.76-31.54,60.75-31.54,76.52,0l101.17,202.41c14.22,28.46-6.46,61.94-38.26,61.94H42.83c-31.8,0-52.48-33.48-38.26-61.94Z'/%3e%3c/svg%3e",At=""+new URL("../assets/KarateBlue.CqdpdrOE.avif",import.meta.url).href,Rt=""+new URL("../assets/KaratePink.DPKpILLM.avif",import.meta.url).href,xt=""+new URL("../assets/KarateGreen.CpfLj3yD.avif",import.meta.url).href,Nt=""+new URL("../assets/KarateYellow.DGpzy_ao.avif",import.meta.url).href,_t=""+new URL("../assets/Ticket.CFqHXuZx.avif",import.meta.url).href;var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var lt={exports:{}};(function(w){(function(e){var t,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",h=Math.ceil,d=Math.floor,v="[BigNumber Error] ",A=v+"Number primitive has more than 15 significant digits: ",k=1e14,C=14,_=9007199254740991,fe=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],V=1e7,P=1e9;function de(I){var O,N,q,S=b.prototype={constructor:b,toString:null,valueOf:null},M=new b(1),j=20,F=4,W=-7,Z=21,pe=-1e7,he=1e7,be=!1,Ce=1,ye=0,xe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},Se="0123456789abcdefghijklmnopqrstuvwxyz";function b(n,r){var o,p,c,u,g,a,l,m,f=this;if(!(f instanceof b))return new b(n,r);if(r==null){if(n&&n._isBigNumber===!0){f.s=n.s,!n.c||n.e>he?f.c=f.e=null:n.e<pe?f.c=[f.e=0]:(f.e=n.e,f.c=n.c.slice());return}if((a=typeof n=="number")&&n*0==0){if(f.s=1/n<0?(n=-n,-1):1,n===~~n){for(u=0,g=n;g>=10;g/=10,u++);u>he?f.c=f.e=null:(f.e=u,f.c=[n]);return}m=String(n)}else{if(!i.test(m=String(n)))return q(f,m,a);f.s=m.charCodeAt(0)==45?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(g=m.search(/e/i))>0?(u<0&&(u=g),u+=+m.slice(g+1),m=m.substring(0,g)):u<0&&(u=m.length)}else{if(D(r,2,Se.length,"Base"),r==10)return f=new b(n),ae(f,j+f.e+1,F);if(m=String(n),a=typeof n=="number"){if(n*0!=0)return q(f,m,a,r);if(f.s=1/n<0?(m=m.slice(1),-1):1,b.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(A+n)}else f.s=m.charCodeAt(0)===45?(m=m.slice(1),-1):1;for(o=Se.slice(0,r),u=g=0,l=m.length;g<l;g++)if(o.indexOf(p=m.charAt(g))<0){if(p=="."){if(g>u){u=l;continue}}else if(!c&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){c=!0,g=-1,u=0;continue}return q(f,String(n),a,r)}a=!1,m=N(m,r,10,f.s),(u=m.indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(g=0;m.charCodeAt(g)===48;g++);for(l=m.length;m.charCodeAt(--l)===48;);if(m=m.slice(g,++l)){if(l-=g,a&&b.DEBUG&&l>15&&(n>_||n!==d(n)))throw Error(A+f.s*n);if((u=u-g-1)>he)f.c=f.e=null;else if(u<pe)f.c=[f.e=0];else{if(f.e=u,f.c=[],g=(u+1)%C,u<0&&(g+=C),g<l){for(g&&f.c.push(+m.slice(0,g)),l-=C;g<l;)f.c.push(+m.slice(g,g+=C));g=C-(m=m.slice(g)).length}else g-=l;for(;g--;m+="0");f.c.push(+m)}}else f.c=[f.e=0]}b.clone=de,b.ROUND_UP=0,b.ROUND_DOWN=1,b.ROUND_CEIL=2,b.ROUND_FLOOR=3,b.ROUND_HALF_UP=4,b.ROUND_HALF_DOWN=5,b.ROUND_HALF_EVEN=6,b.ROUND_HALF_CEIL=7,b.ROUND_HALF_FLOOR=8,b.EUCLID=9,b.config=b.set=function(n){var r,o;if(n!=null)if(typeof n=="object"){if(n.hasOwnProperty(r="DECIMAL_PLACES")&&(o=n[r],D(o,0,P,r),j=o),n.hasOwnProperty(r="ROUNDING_MODE")&&(o=n[r],D(o,0,8,r),F=o),n.hasOwnProperty(r="EXPONENTIAL_AT")&&(o=n[r],o&&o.pop?(D(o[0],-P,0,r),D(o[1],0,P,r),W=o[0],Z=o[1]):(D(o,-P,P,r),W=-(Z=o<0?-o:o))),n.hasOwnProperty(r="RANGE"))if(o=n[r],o&&o.pop)D(o[0],-P,-1,r),D(o[1],1,P,r),pe=o[0],he=o[1];else if(D(o,-P,P,r),o)pe=-(he=o<0?-o:o);else throw Error(v+r+" cannot be zero: "+o);if(n.hasOwnProperty(r="CRYPTO"))if(o=n[r],o===!!o)if(o)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))be=o;else throw be=!o,Error(v+"crypto unavailable");else be=o;else throw Error(v+r+" not true or false: "+o);if(n.hasOwnProperty(r="MODULO_MODE")&&(o=n[r],D(o,0,9,r),Ce=o),n.hasOwnProperty(r="POW_PRECISION")&&(o=n[r],D(o,0,P,r),ye=o),n.hasOwnProperty(r="FORMAT"))if(o=n[r],typeof o=="object")xe=o;else throw Error(v+r+" not an object: "+o);if(n.hasOwnProperty(r="ALPHABET"))if(o=n[r],typeof o=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(o))Se=o;else throw Error(v+r+" invalid: "+o)}else throw Error(v+"Object expected: "+n);return{DECIMAL_PLACES:j,ROUNDING_MODE:F,EXPONENTIAL_AT:[W,Z],RANGE:[pe,he],CRYPTO:be,MODULO_MODE:Ce,POW_PRECISION:ye,FORMAT:xe,ALPHABET:Se}},b.isBigNumber=function(n){if(!n||n._isBigNumber!==!0)return!1;if(!b.DEBUG)return!0;var r,o,p=n.c,c=n.e,u=n.s;e:if({}.toString.call(p)=="[object Array]"){if((u===1||u===-1)&&c>=-P&&c<=P&&c===d(c)){if(p[0]===0){if(c===0&&p.length===1)return!0;break e}if(r=(c+1)%C,r<1&&(r+=C),String(p[0]).length==r){for(r=0;r<p.length;r++)if(o=p[r],o<0||o>=k||o!==d(o))break e;if(o!==0)return!0}}}else if(p===null&&c===null&&(u===null||u===1||u===-1))return!0;throw Error(v+"Invalid BigNumber: "+n)},b.maximum=b.max=function(){return Ge(arguments,S.lt)},b.minimum=b.min=function(){return Ge(arguments,S.gt)},b.random=function(){var n=9007199254740992,r=Math.random()*n&2097151?function(){return d(Math.random()*n)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(o){var p,c,u,g,a,l=0,m=[],f=new b(M);if(o==null?o=j:D(o,0,P),g=h(o/C),be)if(crypto.getRandomValues){for(p=crypto.getRandomValues(new Uint32Array(g*=2));l<g;)a=p[l]*131072+(p[l+1]>>>11),a>=9e15?(c=crypto.getRandomValues(new Uint32Array(2)),p[l]=c[0],p[l+1]=c[1]):(m.push(a%1e14),l+=2);l=g/2}else if(crypto.randomBytes){for(p=crypto.randomBytes(g*=7);l<g;)a=(p[l]&31)*281474976710656+p[l+1]*1099511627776+p[l+2]*4294967296+p[l+3]*16777216+(p[l+4]<<16)+(p[l+5]<<8)+p[l+6],a>=9e15?crypto.randomBytes(7).copy(p,l):(m.push(a%1e14),l+=7);l=g/7}else throw be=!1,Error(v+"crypto unavailable");if(!be)for(;l<g;)a=r(),a<9e15&&(m[l++]=a%1e14);for(g=m[--l],o%=C,g&&o&&(a=fe[C-o],m[l]=d(g/a)*a);m[l]===0;m.pop(),l--);if(l<0)m=[u=0];else{for(u=-1;m[0]===0;m.splice(0,1),u-=C);for(l=1,a=m[0];a>=10;a/=10,l++);l<C&&(u-=C-l)}return f.e=u,f.c=m,f}}(),b.sum=function(){for(var n=1,r=arguments,o=new b(r[0]);n<r.length;)o=o.plus(r[n++]);return o},N=function(){var n="0123456789";function r(o,p,c,u){for(var g,a=[0],l,m=0,f=o.length;m<f;){for(l=a.length;l--;a[l]*=p);for(a[0]+=u.indexOf(o.charAt(m++)),g=0;g<a.length;g++)a[g]>c-1&&(a[g+1]==null&&(a[g+1]=0),a[g+1]+=a[g]/c|0,a[g]%=c)}return a.reverse()}return function(o,p,c,u,g){var a,l,m,f,y,E,T,U,K=o.indexOf("."),J=j,L=F;for(K>=0&&(f=ye,ye=0,o=o.replace(".",""),U=new b(p),E=U.pow(o.length-K),ye=f,U.c=r(H(R(E.c),E.e,"0"),10,c,n),U.e=U.c.length),T=r(o,p,c,g?(a=Se,n):(a=n,Se)),m=f=T.length;T[--f]==0;T.pop());if(!T[0])return a.charAt(0);if(K<0?--m:(E.c=T,E.e=m,E.s=u,E=O(E,U,J,L,c),T=E.c,y=E.r,m=E.e),l=m+J+1,K=T[l],f=c/2,y=y||l<0||T[l+1]!=null,y=L<4?(K!=null||y)&&(L==0||L==(E.s<0?3:2)):K>f||K==f&&(L==4||y||L==6&&T[l-1]&1||L==(E.s<0?8:7)),l<1||!T[0])o=y?H(a.charAt(1),-J,a.charAt(0)):a.charAt(0);else{if(T.length=l,y)for(--c;++T[--l]>c;)T[l]=0,l||(++m,T=[1].concat(T));for(f=T.length;!T[--f];);for(K=0,o="";K<=f;o+=a.charAt(T[K++]));o=H(o,m,a.charAt(0))}return o}}(),O=function(){function n(p,c,u){var g,a,l,m,f=0,y=p.length,E=c%V,T=c/V|0;for(p=p.slice();y--;)l=p[y]%V,m=p[y]/V|0,g=T*l+m*E,a=E*l+g%V*V+f,f=(a/u|0)+(g/V|0)+T*m,p[y]=a%u;return f&&(p=[f].concat(p)),p}function r(p,c,u,g){var a,l;if(u!=g)l=u>g?1:-1;else for(a=l=0;a<u;a++)if(p[a]!=c[a]){l=p[a]>c[a]?1:-1;break}return l}function o(p,c,u,g){for(var a=0;u--;)p[u]-=a,a=p[u]<c[u]?1:0,p[u]=a*g+p[u]-c[u];for(;!p[0]&&p.length>1;p.splice(0,1));}return function(p,c,u,g,a){var l,m,f,y,E,T,U,K,J,L,B,$,ke,Le,qe,me,Oe,ce=p.s==c.s?1:-1,ee=p.c,z=c.c;if(!ee||!ee[0]||!z||!z[0])return new b(!p.s||!c.s||(ee?z&&ee[0]==z[0]:!z)?NaN:ee&&ee[0]==0||!z?ce*0:ce/0);for(K=new b(ce),J=K.c=[],m=p.e-c.e,ce=u+m+1,a||(a=k,m=x(p.e/C)-x(c.e/C),ce=ce/C|0),f=0;z[f]==(ee[f]||0);f++);if(z[f]>(ee[f]||0)&&m--,ce<0)J.push(1),y=!0;else{for(Le=ee.length,me=z.length,f=0,ce+=2,E=d(a/(z[0]+1)),E>1&&(z=n(z,E,a),ee=n(ee,E,a),me=z.length,Le=ee.length),ke=me,L=ee.slice(0,me),B=L.length;B<me;L[B++]=0);Oe=z.slice(),Oe=[0].concat(Oe),qe=z[0],z[1]>=a/2&&qe++;do{if(E=0,l=r(z,L,me,B),l<0){if($=L[0],me!=B&&($=$*a+(L[1]||0)),E=d($/qe),E>1)for(E>=a&&(E=a-1),T=n(z,E,a),U=T.length,B=L.length;r(T,L,U,B)==1;)E--,o(T,me<U?Oe:z,U,a),U=T.length,l=1;else E==0&&(l=E=1),T=z.slice(),U=T.length;if(U<B&&(T=[0].concat(T)),o(L,T,B,a),B=L.length,l==-1)for(;r(z,L,me,B)<1;)E++,o(L,me<B?Oe:z,B,a),B=L.length}else l===0&&(E++,L=[0]);J[f++]=E,L[0]?L[B++]=ee[ke]||0:(L=[ee[ke]],B=1)}while((ke++<Le||L[0]!=null)&&ce--);y=L[0]!=null,J[0]||J.splice(0,1)}if(a==k){for(f=1,ce=J[0];ce>=10;ce/=10,f++);ae(K,u+(K.e=f+m*C-1)+1,g,y)}else K.e=m,K.r=+y;return K}}();function Ne(n,r,o,p){var c,u,g,a,l;if(o==null?o=F:D(o,0,8),!n.c)return n.toString();if(c=n.c[0],g=n.e,r==null)l=R(n.c),l=p==1||p==2&&(g<=W||g>=Z)?se(l,g):H(l,g,"0");else if(n=ae(new b(n),r,o),u=n.e,l=R(n.c),a=l.length,p==1||p==2&&(r<=u||u<=W)){for(;a<r;l+="0",a++);l=se(l,u)}else if(r-=g,l=H(l,u,"0"),u+1>a){if(--r>0)for(l+=".";r--;l+="0");}else if(r+=u-a,r>0)for(u+1==a&&(l+=".");r--;l+="0");return n.s<0&&c?"-"+l:l}function Ge(n,r){for(var o,p=1,c=new b(n[0]);p<n.length;p++)if(o=new b(n[p]),o.s)r.call(c,o)&&(c=o);else{c=o;break}return c}function _e(n,r,o){for(var p=1,c=r.length;!r[--c];r.pop());for(c=r[0];c>=10;c/=10,p++);return(o=p+o*C-1)>he?n.c=n.e=null:o<pe?n.c=[n.e=0]:(n.e=o,n.c=r),n}q=function(){var n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,o=/^\.([^.]+)$/,p=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(u,g,a,l){var m,f=a?g:g.replace(c,"");if(p.test(f))u.s=isNaN(f)?null:f<0?-1:1;else{if(!a&&(f=f.replace(n,function(y,E,T){return m=(T=T.toLowerCase())=="x"?16:T=="b"?2:8,!l||l==m?E:y}),l&&(m=l,f=f.replace(r,"$1").replace(o,"0.$1")),g!=f))return new b(f,m);if(b.DEBUG)throw Error(v+"Not a"+(l?" base "+l:"")+" number: "+g);u.s=null}u.c=u.e=null}}();function ae(n,r,o,p){var c,u,g,a,l,m,f,y=n.c,E=fe;if(y){e:{for(c=1,a=y[0];a>=10;a/=10,c++);if(u=r-c,u<0)u+=C,g=r,l=y[m=0],f=l/E[c-g-1]%10|0;else if(m=h((u+1)/C),m>=y.length)if(p){for(;y.length<=m;y.push(0));l=f=0,c=1,u%=C,g=u-C+1}else break e;else{for(l=a=y[m],c=1;a>=10;a/=10,c++);u%=C,g=u-C+c,f=g<0?0:l/E[c-g-1]%10|0}if(p=p||r<0||y[m+1]!=null||(g<0?l:l%E[c-g-1]),p=o<4?(f||p)&&(o==0||o==(n.s<0?3:2)):f>5||f==5&&(o==4||p||o==6&&(u>0?g>0?l/E[c-g]:0:y[m-1])%10&1||o==(n.s<0?8:7)),r<1||!y[0])return y.length=0,p?(r-=n.e+1,y[0]=E[(C-r%C)%C],n.e=-r||0):y[0]=n.e=0,n;if(u==0?(y.length=m,a=1,m--):(y.length=m+1,a=E[C-u],y[m]=g>0?d(l/E[c-g]%E[g])*a:0),p)for(;;)if(m==0){for(u=1,g=y[0];g>=10;g/=10,u++);for(g=y[0]+=a,a=1;g>=10;g/=10,a++);u!=a&&(n.e++,y[0]==k&&(y[0]=1));break}else{if(y[m]+=a,y[m]!=k)break;y[m--]=0,a=1}for(u=y.length;y[--u]===0;y.pop());}n.e>he?n.c=n.e=null:n.e<pe&&(n.c=[n.e=0])}return n}function ge(n){var r,o=n.e;return o===null?n.toString():(r=R(n.c),r=o<=W||o>=Z?se(r,o):H(r,o,"0"),n.s<0?"-"+r:r)}return S.absoluteValue=S.abs=function(){var n=new b(this);return n.s<0&&(n.s=1),n},S.comparedTo=function(n,r){return le(this,new b(n,r))},S.decimalPlaces=S.dp=function(n,r){var o,p,c,u=this;if(n!=null)return D(n,0,P),r==null?r=F:D(r,0,8),ae(new b(u),n+u.e+1,r);if(!(o=u.c))return null;if(p=((c=o.length-1)-x(this.e/C))*C,c=o[c])for(;c%10==0;c/=10,p--);return p<0&&(p=0),p},S.dividedBy=S.div=function(n,r){return O(this,new b(n,r),j,F)},S.dividedToIntegerBy=S.idiv=function(n,r){return O(this,new b(n,r),0,1)},S.exponentiatedBy=S.pow=function(n,r){var o,p,c,u,g,a,l,m,f,y=this;if(n=new b(n),n.c&&!n.isInteger())throw Error(v+"Exponent not an integer: "+ge(n));if(r!=null&&(r=new b(r)),a=n.e>14,!y.c||!y.c[0]||y.c[0]==1&&!y.e&&y.c.length==1||!n.c||!n.c[0])return f=new b(Math.pow(+ge(y),a?2-Y(n):+ge(n))),r?f.mod(r):f;if(l=n.s<0,r){if(r.c?!r.c[0]:!r.s)return new b(NaN);p=!l&&y.isInteger()&&r.isInteger(),p&&(y=y.mod(r))}else{if(n.e>9&&(y.e>0||y.e<-1||(y.e==0?y.c[0]>1||a&&y.c[1]>=24e7:y.c[0]<8e13||a&&y.c[0]<=9999975e7)))return u=y.s<0&&Y(n)?-0:0,y.e>-1&&(u=1/u),new b(l?1/u:u);ye&&(u=h(ye/C+2))}for(a?(o=new b(.5),l&&(n.s=1),m=Y(n)):(c=Math.abs(+ge(n)),m=c%2),f=new b(M);;){if(m){if(f=f.times(y),!f.c)break;u?f.c.length>u&&(f.c.length=u):p&&(f=f.mod(r))}if(c){if(c=d(c/2),c===0)break;m=c%2}else if(n=n.times(o),ae(n,n.e+1,1),n.e>14)m=Y(n);else{if(c=+ge(n),c===0)break;m=c%2}y=y.times(y),u?y.c&&y.c.length>u&&(y.c.length=u):p&&(y=y.mod(r))}return p?f:(l&&(f=M.div(f)),r?f.mod(r):u?ae(f,ye,F,g):f)},S.integerValue=function(n){var r=new b(this);return n==null?n=F:D(n,0,8),ae(r,r.e+1,n)},S.isEqualTo=S.eq=function(n,r){return le(this,new b(n,r))===0},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(n,r){return le(this,new b(n,r))>0},S.isGreaterThanOrEqualTo=S.gte=function(n,r){return(r=le(this,new b(n,r)))===1||r===0},S.isInteger=function(){return!!this.c&&x(this.e/C)>this.c.length-2},S.isLessThan=S.lt=function(n,r){return le(this,new b(n,r))<0},S.isLessThanOrEqualTo=S.lte=function(n,r){return(r=le(this,new b(n,r)))===-1||r===0},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&this.c[0]==0},S.minus=function(n,r){var o,p,c,u,g=this,a=g.s;if(n=new b(n,r),r=n.s,!a||!r)return new b(NaN);if(a!=r)return n.s=-r,g.plus(n);var l=g.e/C,m=n.e/C,f=g.c,y=n.c;if(!l||!m){if(!f||!y)return f?(n.s=-r,n):new b(y?g:NaN);if(!f[0]||!y[0])return y[0]?(n.s=-r,n):new b(f[0]?g:F==3?-0:0)}if(l=x(l),m=x(m),f=f.slice(),a=l-m){for((u=a<0)?(a=-a,c=f):(m=l,c=y),c.reverse(),r=a;r--;c.push(0));c.reverse()}else for(p=(u=(a=f.length)<(r=y.length))?a:r,a=r=0;r<p;r++)if(f[r]!=y[r]){u=f[r]<y[r];break}if(u&&(c=f,f=y,y=c,n.s=-n.s),r=(p=y.length)-(o=f.length),r>0)for(;r--;f[o++]=0);for(r=k-1;p>a;){if(f[--p]<y[p]){for(o=p;o&&!f[--o];f[o]=r);--f[o],f[p]+=k}f[p]-=y[p]}for(;f[0]==0;f.splice(0,1),--m);return f[0]?_e(n,f,m):(n.s=F==3?-1:1,n.c=[n.e=0],n)},S.modulo=S.mod=function(n,r){var o,p,c=this;return n=new b(n,r),!c.c||!n.s||n.c&&!n.c[0]?new b(NaN):!n.c||c.c&&!c.c[0]?new b(c):(Ce==9?(p=n.s,n.s=1,o=O(c,n,0,3),n.s=p,o.s*=p):o=O(c,n,0,Ce),n=c.minus(o.times(n)),!n.c[0]&&Ce==1&&(n.s=c.s),n)},S.multipliedBy=S.times=function(n,r){var o,p,c,u,g,a,l,m,f,y,E,T,U,K,J,L=this,B=L.c,$=(n=new b(n,r)).c;if(!B||!$||!B[0]||!$[0])return!L.s||!n.s||B&&!B[0]&&!$||$&&!$[0]&&!B?n.c=n.e=n.s=null:(n.s*=L.s,!B||!$?n.c=n.e=null:(n.c=[0],n.e=0)),n;for(p=x(L.e/C)+x(n.e/C),n.s*=L.s,l=B.length,y=$.length,l<y&&(U=B,B=$,$=U,c=l,l=y,y=c),c=l+y,U=[];c--;U.push(0));for(K=k,J=V,c=y;--c>=0;){for(o=0,E=$[c]%J,T=$[c]/J|0,g=l,u=c+g;u>c;)m=B[--g]%J,f=B[g]/J|0,a=T*m+f*E,m=E*m+a%J*J+U[u]+o,o=(m/K|0)+(a/J|0)+T*f,U[u--]=m%K;U[u]=o}return o?++p:U.splice(0,1),_e(n,U,p)},S.negated=function(){var n=new b(this);return n.s=-n.s||null,n},S.plus=function(n,r){var o,p=this,c=p.s;if(n=new b(n,r),r=n.s,!c||!r)return new b(NaN);if(c!=r)return n.s=-r,p.minus(n);var u=p.e/C,g=n.e/C,a=p.c,l=n.c;if(!u||!g){if(!a||!l)return new b(c/0);if(!a[0]||!l[0])return l[0]?n:new b(a[0]?p:c*0)}if(u=x(u),g=x(g),a=a.slice(),c=u-g){for(c>0?(g=u,o=l):(c=-c,o=a),o.reverse();c--;o.push(0));o.reverse()}for(c=a.length,r=l.length,c-r<0&&(o=l,l=a,a=o,r=c),c=0;r;)c=(a[--r]=a[r]+l[r]+c)/k|0,a[r]=k===a[r]?0:a[r]%k;return c&&(a=[c].concat(a),++g),_e(n,a,g)},S.precision=S.sd=function(n,r){var o,p,c,u=this;if(n!=null&&n!==!!n)return D(n,1,P),r==null?r=F:D(r,0,8),ae(new b(u),n,r);if(!(o=u.c))return null;if(c=o.length-1,p=c*C+1,c=o[c]){for(;c%10==0;c/=10,p--);for(c=o[0];c>=10;c/=10,p++);}return n&&u.e+1>p&&(p=u.e+1),p},S.shiftedBy=function(n){return D(n,-_,_),this.times("1e"+n)},S.squareRoot=S.sqrt=function(){var n,r,o,p,c,u=this,g=u.c,a=u.s,l=u.e,m=j+4,f=new b("0.5");if(a!==1||!g||!g[0])return new b(!a||a<0&&(!g||g[0])?NaN:g?u:1/0);if(a=Math.sqrt(+ge(u)),a==0||a==1/0?(r=R(g),(r.length+l)%2==0&&(r+="0"),a=Math.sqrt(+r),l=x((l+1)/2)-(l<0||l%2),a==1/0?r="1e"+l:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),o=new b(r)):o=new b(a+""),o.c[0]){for(l=o.e,a=l+m,a<3&&(a=0);;)if(c=o,o=f.times(c.plus(O(u,c,m,1))),R(c.c).slice(0,a)===(r=R(o.c)).slice(0,a))if(o.e<l&&--a,r=r.slice(a-3,a+1),r=="9999"||!p&&r=="4999"){if(!p&&(ae(c,c.e+j+2,0),c.times(c).eq(u))){o=c;break}m+=4,a+=4,p=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(ae(o,o.e+j+2,1),n=!o.times(o).eq(u));break}}return ae(o,o.e+j+1,F,n)},S.toExponential=function(n,r){return n!=null&&(D(n,0,P),n++),Ne(this,n,r,1)},S.toFixed=function(n,r){return n!=null&&(D(n,0,P),n=n+this.e+1),Ne(this,n,r)},S.toFormat=function(n,r,o){var p,c=this;if(o==null)n!=null&&r&&typeof r=="object"?(o=r,r=null):n&&typeof n=="object"?(o=n,n=r=null):o=xe;else if(typeof o!="object")throw Error(v+"Argument not an object: "+o);if(p=c.toFixed(n,r),c.c){var u,g=p.split("."),a=+o.groupSize,l=+o.secondaryGroupSize,m=o.groupSeparator||"",f=g[0],y=g[1],E=c.s<0,T=E?f.slice(1):f,U=T.length;if(l&&(u=a,a=l,l=u,U-=u),a>0&&U>0){for(u=U%a||a,f=T.substr(0,u);u<U;u+=a)f+=m+T.substr(u,a);l>0&&(f+=m+T.slice(u)),E&&(f="-"+f)}p=y?f+(o.decimalSeparator||"")+((l=+o.fractionGroupSize)?y.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(o.fractionGroupSeparator||"")):y):f}return(o.prefix||"")+p+(o.suffix||"")},S.toFraction=function(n){var r,o,p,c,u,g,a,l,m,f,y,E,T=this,U=T.c;if(n!=null&&(a=new b(n),!a.isInteger()&&(a.c||a.s!==1)||a.lt(M)))throw Error(v+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+ge(a));if(!U)return new b(T);for(r=new b(M),m=o=new b(M),p=l=new b(M),E=R(U),u=r.e=E.length-T.e-1,r.c[0]=fe[(g=u%C)<0?C+g:g],n=!n||a.comparedTo(r)>0?u>0?r:m:a,g=he,he=1/0,a=new b(E),l.c[0]=0;f=O(a,r,0,1),c=o.plus(f.times(p)),c.comparedTo(n)!=1;)o=p,p=c,m=l.plus(f.times(c=m)),l=c,r=a.minus(f.times(c=r)),a=c;return c=O(n.minus(o),p,0,1),l=l.plus(c.times(m)),o=o.plus(c.times(p)),l.s=m.s=T.s,u=u*2,y=O(m,p,u,F).minus(T).abs().comparedTo(O(l,o,u,F).minus(T).abs())<1?[m,p]:[l,o],he=g,y},S.toNumber=function(){return+ge(this)},S.toPrecision=function(n,r){return n!=null&&D(n,1,P),Ne(this,n,r,2)},S.toString=function(n){var r,o=this,p=o.s,c=o.e;return c===null?p?(r="Infinity",p<0&&(r="-"+r)):r="NaN":(n==null?r=c<=W||c>=Z?se(R(o.c),c):H(R(o.c),c,"0"):n===10?(o=ae(new b(o),j+c+1,F),r=H(R(o.c),o.e,"0")):(D(n,2,Se.length,"Base"),r=N(H(R(o.c),c,"0"),10,n,p,!0)),p<0&&o.c[0]&&(r="-"+r)),r},S.valueOf=S.toJSON=function(){return ge(this)},S._isBigNumber=!0,s&&(S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf),I!=null&&b.set(I),b}function x(I){var O=I|0;return I>0||I===O?O:O-1}function R(I){for(var O,N,q=1,S=I.length,M=I[0]+"";q<S;){for(O=I[q++]+"",N=C-O.length;N--;O="0"+O);M+=O}for(S=M.length;M.charCodeAt(--S)===48;);return M.slice(0,S+1||1)}function le(I,O){var N,q,S=I.c,M=O.c,j=I.s,F=O.s,W=I.e,Z=O.e;if(!j||!F)return null;if(N=S&&!S[0],q=M&&!M[0],N||q)return N?q?0:-F:j;if(j!=F)return j;if(N=j<0,q=W==Z,!S||!M)return q?0:!S^N?1:-1;if(!q)return W>Z^N?1:-1;for(F=(W=S.length)<(Z=M.length)?W:Z,j=0;j<F;j++)if(S[j]!=M[j])return S[j]>M[j]^N?1:-1;return W==Z?0:W>Z^N?1:-1}function D(I,O,N,q){if(I<O||I>N||I!==d(I))throw Error(v+(q||"Argument")+(typeof I=="number"?I<O||I>N?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function Y(I){var O=I.c.length-1;return x(I.e/C)==O&&I.c[O]%2!=0}function se(I,O){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(O<0?"e":"e+")+O}function H(I,O,N){var q,S;if(O<0){for(S=N+".";++O;S+=N);I=S+I}else if(q=I.length,++O>q){for(S=N,O-=q;--O;S+=N);I+=S}else O<q&&(I=I.slice(0,O)+"."+I.slice(O));return I}t=de(),t.default=t.BigNumber=t,w.exports?w.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(Lt)})(lt);var Ut=lt.exports,G=Ut;function Fe(w){var e={"-18":"wei","-15":"kwei","-12":"mwei","-9":"gwei","-6":"szabo","-3":"finney",1:"ether",3:"kether",6:"mether",9:"gether",12:"tether"};return typeof w=="string"&&(w=w.trim().toLowerCase()),w!==void 0&&!isNaN(w)&&(w=e[w]),w}function Dt(w,e){if(w===void 0)throw TypeError("value is required");if(e=Fe(e),e===void 0)throw TypeError("unit is required");var t=new G(w);if(e==="eth"&&(e="ether"),e==="wei")return t.times(new G(1e-18));if(e==="kwei")return t.times(new G(1e-15));if(e==="mwei")return t.times(new G(1e-12));if(e==="gwei")return t.times(new G(1e-9));if(e==="szabo")return t.times(new G(1e-6));if(e==="finney")return t.times(new G(.001));if(e==="ether")return t.times(new G(1));if(e==="kether")return t.times(new G(1e3));if(e==="mether")return t.times(new G(1e6));if(e==="gether")return t.times(new G(1e9));if(e==="tether")return t.times(new G(1e12));throw TypeError("Invalid unit")}function jt(w,e,t){e=Fe(e),t=Fe(t);var i=Dt(w,e);e==="eth"&&(e="ether"),t==="eth"&&(t="ether");var s={wei:null,kwei:null,mwei:null,gwei:null,szabo:null,finney:null,ether:null,kether:null,mether:null,gether:null,tether:null};if(s[e]=new G(w).toString(10),e!=="wei"&&(s.wei=i.times(new G(1e18)).toString(10)),e!=="kwei"&&(s.kwei=i.times(new G(1e15)).toString(10)),e!=="mwei"&&(s.mwei=i.times(new G(1e12)).toString(10)),e!=="gwei"&&(s.gwei=i.times(new G(1e9)).toString(10)),e!=="szabo"&&(s.szabo=i.times(new G(1e6)).toString(10)),e!=="finney"&&(s.finney=i.times(new G(1e3)).toString(10)),e!=="ether"&&(s.ether=i.times(new G(1)).toString(10)),e!=="kether"&&(s.kether=i.times(new G(.001)).toString(10)),e!=="mether"&&(s.mether=i.times(new G(1e-6)).toString(10)),e!=="gether"&&(s.gether=i.times(new G(1e-9)).toString(10)),e!=="tether"&&(s.tether=i.times(new G(1e-12)).toString(10)),t){if(s[t]===void 0)throw TypeError("Invalid unit");return s[t]}return s}var Bt=jt;const $e=qt(Bt);function et(w){let e,t=$e(w[0].minimumGas,"wei","gwei")+"",i,s;return{c(){e=te("p"),i=je(t),s=je(" gwei"),this.h()},l(h){e=ie(h,"P",{class:!0});var d=ue(e);i=Be(d,t),s=Be(d," gwei"),d.forEach(ne),this.h()},h(){Q(e,"class","truncate text-[hsl(var(--twc-cardSubBodyColor))]")},m(h,d){Re(h,e,d),X(e,i),X(e,s)},p(h,d){d&1&&t!==(t=$e(h[0].minimumGas,"wei","gwei")+"")&&st(i,t)},d(h){h&&ne(e)}}}function Ft(w){let e,t,i,s="prover",h,d,v,A,k,C,_,fe=`<img src="${_t}" class="icon-small w-8 mr-2" alt="red karate uniform icon"/> <p class="">min proof fee</p>`,V,P,de,x,R,le=`<img src="${ft}" class="icon-small w-8 mr-2" alt="red karate uniform icon"/> <p class="">address</p>`,D,Y,se,H=w[0].url+"",I,O=w[0].minimumGas!==void 0&&et(w);return{c(){e=te("div"),t=te("div"),i=te("h3"),i.textContent=s,h=Ee(),d=te("img"),A=Ee(),k=te("div"),C=te("div"),_=te("div"),_.innerHTML=fe,V=Ee(),P=te("div"),O&&O.c(),de=Ee(),x=te("div"),R=te("div"),R.innerHTML=le,D=Ee(),Y=te("div"),se=te("p"),I=je(H),this.h()},l(N){e=ie(N,"DIV",{class:!0});var q=ue(e);t=ie(q,"DIV",{class:!0});var S=ue(t);i=ie(S,"H3",{class:!0,"data-svelte-h":!0}),Ue(i)!=="svelte-1cfb05m"&&(i.textContent=s),h=Te(S),d=ie(S,"IMG",{src:!0,alt:!0}),S.forEach(ne),A=Te(q),k=ie(q,"DIV",{class:!0});var M=ue(k);C=ie(M,"DIV",{class:!0});var j=ue(C);_=ie(j,"DIV",{class:!0,"data-svelte-h":!0}),Ue(_)!=="svelte-1n8nnor"&&(_.innerHTML=fe),V=Te(j),P=ie(j,"DIV",{class:!0});var F=ue(P);O&&O.l(F),F.forEach(ne),j.forEach(ne),de=Te(M),x=ie(M,"DIV",{class:!0});var W=ue(x);R=ie(W,"DIV",{class:!0,"data-svelte-h":!0}),Ue(R)!=="svelte-3g24rn"&&(R.innerHTML=le),D=Te(W),Y=ie(W,"DIV",{class:!0});var Z=ue(Y);se=ie(Z,"P",{class:!0});var pe=ue(se);I=Be(pe,H),pe.forEach(ne),Z.forEach(ne),W.forEach(ne),M.forEach(ne),q.forEach(ne),this.h()},h(){Q(i,"class","modal-title font-bold text-xl text-[#E53325]"),Ke(d.src,v=w[1])||Q(d,"src",v),Q(d,"alt","icon"),Q(t,"class","w-[85px]"),Q(_,"class","flex flex-col items-start"),Q(P,"class","flex flex-col text-left"),Q(C,"class","flex flex-col items-start"),Q(R,"class","flex flex-col items-start"),Q(se,"class","truncate text-[hsl(var(--twc-cardSubBodyColor))]"),Q(Y,"class","flex flex-col text-left"),Q(x,"class","flex flex-col items-start"),Q(k,"class","flex flex-col items-start mt-4 w-[225px] ml-auto card-subbody overflow-clip gap-2"),Q(e,"class","modal shadow-md flex content-between items-center justify-around flex-row svelte-1vrmzm5")},m(N,q){Re(N,e,q),X(e,t),X(t,i),X(t,h),X(t,d),X(e,A),X(e,k),X(k,C),X(C,_),X(C,V),X(C,P),O&&O.m(P,null),X(k,de),X(k,x),X(x,R),X(x,D),X(x,Y),X(Y,se),X(se,I)},p(N,[q]){q&2&&!Ke(d.src,v=N[1])&&Q(d,"src",v),N[0].minimumGas!==void 0?O?O.p(N,q):(O=et(N),O.c(),O.m(P,null)):O&&(O.d(1),O=null),q&1&&H!==(H=N[0].url+"")&&st(I,H)},i:Ae,o:Ae,d(N){N&&ne(e),O&&O.d()}}}function Mt(w,e,t){let{endpoint:i}=e,s;w.$$set=h=>{"endpoint"in h&&t(0,i=h.endpoint)};{const h=Math.floor(Math.random()*10);h===0?t(1,s=ut):h>=1&&h<=2?t(1,s=xt):h>=3&&h<=4?t(1,s=Nt):h>=5&&h<=7?t(1,s=At):t(1,s=Rt)}return[i,s]}class Xt extends it{constructor(e){super(),nt(this,e,Mt,Ft,tt,{endpoint:0})}}const Qt=""+new URL("../assets/CheckMark.CZlts7nq.avif",import.meta.url).href,Yt=""+new URL("../assets/Copy.ApILFNa4.avif",import.meta.url).href,Zt=""+new URL("../assets/Submit.CeHygA8T.avif",import.meta.url).href;export{Jt as A,Ht as C,Xt as P,Zt as S,_t as T,Wt as a,Yt as b,Qt as c,Vt as d,He as e};
