import{s as $e,n as Fe,x as Le,r as Nt}from"../chunks/scheduler.Cu_nLO_j.js";import{S as et,i as tt,e as U,c as D,a as X,d as x,l as A,m as Ae,g as ue,C as Ot,A as rt,s as he,t as je,k as qe,f as fe,b as Be,h as R,j as Ge,v as We,z as Rt,w as Je,x as Xe,D as ot,B as Me,E as Lt,o as ke,p as it,q as Oe,y as Qe,r as st,n as at}from"../chunks/index.D5PmfdL5.js";import{T as qt,c as Ut,g as Dt,H as jt}from"../chunks/ThemeSwitcher.BfMKML48.js";import{K as Bt,M as Mt,T as Ft}from"../chunks/Map.Uu4rPlGa.js";function He(p){return(p==null?void 0:p.length)!==void 0?p:Array.from(p)}class Ce extends Error{constructor(e){var t,i,s,u;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Ce.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof Ce||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(u=(s=(i=this.originalError)==null?void 0:i.cause)==null?void 0:s.message)!=null&&u.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const ze=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Gt(p,e){const t={};if(typeof p!="string")return t;const i=Object.assign({},{}).decode||zt;let s=0;for(;s<p.length;){const u=p.indexOf("=",s);if(u===-1)break;let o=p.indexOf(";",s);if(o===-1)o=p.length;else if(o<u){s=p.lastIndexOf(";",u-1)+1;continue}const y=p.slice(s,u).trim();if(t[y]===void 0){let C=p.slice(u+1,o).trim();C.charCodeAt(0)===34&&(C=C.slice(1,-1));try{t[y]=i(C)}catch{t[y]=C}}s=o+1}return t}function lt(p,e,t){const i=Object.assign({},t||{}),s=i.encode||Kt;if(!ze.test(p))throw new TypeError("argument name is invalid");const u=s(e);if(u&&!ze.test(u))throw new TypeError("argument val is invalid");let o=p+"="+u;if(i.maxAge!=null){const y=i.maxAge-0;if(isNaN(y)||!isFinite(y))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(y)}if(i.domain){if(!ze.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!ze.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){if(!function(C){return Object.prototype.toString.call(C)==="[object Date]"||C instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function zt(p){return p.indexOf("%")!==-1?decodeURIComponent(p):p}function Kt(p){return encodeURIComponent(p)}let _t;function Ve(p){if(p)try{const e=decodeURIComponent(_t(p.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function kt(p,e=0){let t=Ve(p);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}_t=typeof atob=="function"?atob:p=>{let e=String(p).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,s=0,u=0,o="";i=e.charAt(u++);~i&&(t=s%4?64*t+i:i,s++%4)?o+=String.fromCharCode(255&t>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return o};const ct="pb_auth";class Vt{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!kt(this.token)}get isAdmin(){return Ve(this.token).type==="admin"}get isAuthRecord(){return Ve(this.token).type==="authRecord"}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=ct){const i=Gt(e||"")[t]||"";let s={};try{s=JSON.parse(i),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(e,t=ct){var C,_;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ve(this.token);i.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const u={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=lt(t,JSON.stringify(u),e);const y=typeof Blob<"u"?new Blob([o]).size:o.length;if(u.model&&y>4096){u.model={id:(C=u==null?void 0:u.model)==null?void 0:C.id,email:(_=u==null?void 0:u.model)==null?void 0:_.email};const O=["collectionId","username","verified"];for(const B in this.model)O.includes(B)&&(u.model[B]=this.model[B]);o=lt(t,JSON.stringify(u),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.model),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.model)}}class Ht extends Vt{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(e,t){this._storageSet(this.storageKey,{token:e,model:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.model||null)})}}class Ue{constructor(e){this.client=e}}class Wt extends Ue{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i){return i=Object.assign({method:"POST",body:{email:e,template:t}},i),this.client.send("/api/settings/test/email",i).then(()=>!0)}async generateAppleClientSecret(e,t,i,s,u,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:s,duration:u}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class nt extends Ue{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(s=>{var u;return s.items=((u=s.items)==null?void 0:u.map(o=>this.decode(o)))||[],s})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var s;if(!((s=i==null?void 0:i.items)!=null&&s.length))throw new Ce({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new Ce({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(s=>this.decode(s))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],s=async u=>this.getList(u,e||500,t).then(o=>{const y=o.items;return i=i.concat(y),y.length==o.perPage?s(u+1):i});return s(1)}}function Se(p,e,t,i){const s=i!==void 0;return s||t!==void 0?s?(console.warn(p),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function Ye(p){var e;(e=p._resetAutoRefresh)==null||e.call(p)}class Jt extends nt{get baseCrudPath(){return"/api/admins"}async update(e,t,i){return super.update(e,t,i).then(s=>{var u,o;return((u=this.client.authStore.model)==null?void 0:u.id)===s.id&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(i=>{var s,u;return i&&((s=this.client.authStore.model)==null?void 0:s.id)===e&&((u=this.client.authStore.model)==null?void 0:u.collectionId)===void 0&&this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:t})}async authWithPassword(e,t,i,s){let u={method:"POST",body:{identity:e,password:t}};u=Se("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",u,i,s);const o=u.autoRefreshThreshold;delete u.autoRefreshThreshold,u.autoRefresh||Ye(this.client);let y=await this.client.send(this.baseCrudPath+"/auth-with-password",u);return y=this.authResponse(y),o&&function(_,O,B,te){Ye(_);const $=_.beforeSend,N=_.authStore.model,le=_.authStore.onChange((L,I)=>{(!L||(I==null?void 0:I.id)!=(N==null?void 0:N.id)||(I!=null&&I.collectionId||N!=null&&N.collectionId)&&(I==null?void 0:I.collectionId)!=(N==null?void 0:N.collectionId))&&Ye(_)});_._resetAutoRefresh=function(){le(),_.beforeSend=$,delete _._resetAutoRefresh},_.beforeSend=async(L,I)=>{var K;const ie=_.authStore.token;if((K=I.query)!=null&&K.autoRefresh)return $?$(L,I):{url:L,sendOptions:I};let j=_.authStore.isValid;if(j&&kt(_.authStore.token,O))try{await B()}catch{j=!1}j||await te();const ce=I.headers||{};for(let q in ce)if(q.toLowerCase()=="authorization"&&ie==ce[q]&&_.authStore.token){ce[q]=_.authStore.token;break}return I.headers=ce,$?$(L,I):{url:L,sendOptions:I}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},u))),y}async authRefresh(e,t){let i={method:"POST"};return i=Se("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCrudPath+"/auth-refresh",i).then(this.authResponse.bind(this))}async requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=Se("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,i,s,u){let o={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return o=Se("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,s,u),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const Xt=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Tt(p){if(p){p.query=p.query||{};for(let e in p)Xt.includes(e)||(p.query[e]=p[e],delete p[e])}}class At extends Ue{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var o;if(!e)throw new Error("topic must be set.");let s=e;if(i){Tt(i);const y="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));s+=(s.includes("?")?"&":"?")+y}const u=function(y){const C=y;let _;try{_=JSON.parse(C==null?void 0:C.data)}catch{}t(_||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(u),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(s,u):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,u)}async unsubscribe(e){var i;let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let u in s)if(this.hasSubscriptionListeners(u)){for(let o of this.subscriptions[u])(i=this.eventSource)==null||i.removeEventListener(u,o);delete this.subscriptions[u],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let s in this.subscriptions)if((s+"?").startsWith(e)){t=!0;for(let u of this.subscriptions[s])(i=this.eventSource)==null||i.removeEventListener(s,u);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var u;let i=!1;const s=this.getSubscriptionsByTopic(e);for(let o in s){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let y=!1;for(let C=this.subscriptions[o].length-1;C>=0;C--)this.subscriptions[o][C]===t&&(y=!0,delete this.subscriptions[o][C],this.subscriptions[o].splice(C,1),(u=this.eventSource)==null||u.removeEventListener(o,t));y&&(this.subscriptions[o].length||delete this.subscriptions[o],i||this.hasSubscriptionListeners(o)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let s in this.subscriptions)if((i=this.subscriptions[s])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in i)for(let u of i[s])u(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new Ce(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class Qt extends nt{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(s=>{var u,o,y;return((u=this.client.authStore.model)==null?void 0:u.id)!==(s==null?void 0:s.id)||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((y=this.client.authStore.model)==null?void 0:y.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(e,t){return super.delete(e,t).then(i=>{var s,u,o;return!i||((s=this.client.authStore.model)==null?void 0:s.id)!==e||((u=this.client.authStore.model)==null?void 0:u.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e).then(t=>Object.assign({},t,{usernamePassword:!!(t!=null&&t.usernamePassword),emailPassword:!!(t!=null&&t.emailPassword),authProviders:Array.isArray(t==null?void 0:t.authProviders)?t==null?void 0:t.authProviders:[]}))}async authWithPassword(e,t,i,s){let u={method:"POST",body:{identity:e,password:t}};return u=Se("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",u,i,s),this.client.send(this.baseCollectionPath+"/auth-with-password",u).then(o=>this.authResponse(o))}async authWithOAuth2Code(e,t,i,s,u,o,y){let C={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectUrl:s,createData:u}};return C=Se("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",C,o,y),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",C).then(_=>this.authResponse(_))}async authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{},i=(await this.listAuthMethods()).authProviders.find(C=>C.name===t.provider);if(!i)throw new Ce(new Error(`Missing or invalid provider "${t.provider}".`));const s=this.client.buildUrl("/api/oauth2-redirect"),u=new At(this.client);let o=null;function y(){o==null||o.close(),u.unsubscribe()}return t.urlCallback||(o=ut(void 0)),new Promise(async(C,_)=>{var O;try{await u.subscribe("@oauth2",async N=>{const le=u.clientId;try{if(!N.state||le!==N.state)throw new Error("State parameters don't match.");const L=Object.assign({},t);delete L.provider,delete L.scopes,delete L.createData,delete L.urlCallback;const I=await this.authWithOAuth2Code(i.name,N.code,i.codeVerifier,s,t.createData,L);C(I)}catch(L){_(new Ce(L))}y()});const B={state:u.clientId};(O=t.scopes)!=null&&O.length&&(B.scope=t.scopes.join(" "));const te=this._replaceQueryParams(i.authUrl+s,B);await(t.urlCallback||function(N){o?o.location.href=N:o=ut(N)})(te)}catch(B){y(),_(new Ce(B))}})}async authRefresh(e,t){let i={method:"POST"};return i=Se("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(s=>this.authResponse(s))}async requestPasswordReset(e,t,i){let s={method:"POST",body:{email:e}};return s=Se("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(e,t,i,s,u){let o={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return o=Se("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,u),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(e,t,i){let s={method:"POST",body:{email:e}};return s=Se("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(e,t,i){let s={method:"POST",body:{token:e}};return s=Se("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>!0)}async requestEmailChange(e,t,i){let s={method:"POST",body:{newEmail:e}};return s=Se("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(e,t,i,s){let u={method:"POST",body:{token:e,password:t}};return u=Se("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",u,i,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",u).then(()=>!0)}async listExternalAuths(e,t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",t)}async unlinkExternalAuth(e,t,i){return i=Object.assign({method:"DELETE"},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(t),i).then(()=>!0)}_replaceQueryParams(e,t={}){let i=e,s="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),s=e.substring(e.indexOf("?")+1));const u={},o=s.split("&");for(const y of o){if(y=="")continue;const C=y.split("=");u[decodeURIComponent(C[0].replace(/\+/g," "))]=decodeURIComponent((C[1]||"").replace(/\+/g," "))}for(let y in t)t.hasOwnProperty(y)&&(t[y]==null?delete u[y]:u[y]=t[y]);s="";for(let y in u)u.hasOwnProperty(y)&&(s!=""&&(s+="&"),s+=encodeURIComponent(y.replace(/%20/g,"+"))+"="+encodeURIComponent(u[y].replace(/%20/g,"+")));return s!=""?i+"?"+s:i}}function ut(p){if(typeof window>"u"||!(window!=null&&window.open))throw new Ce(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,s=window.innerHeight;e=e>i?i:e,t=t>s?s:t;let u=i/2-e/2,o=s/2-t/2;return window.open(p,"popup_window","width="+e+",height="+t+",top="+o+",left="+u+",resizable,menubar=no")}class Yt extends nt{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}}class Zt extends Ue{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new Ce({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class $t extends Ue{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class ei extends Ue{getUrl(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(e.collectionId||e.collectionName)),s.push(encodeURIComponent(e.id)),s.push(encodeURIComponent(t));let u=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const o=new URLSearchParams(i);u+=(u.includes("?")?"&":"?")+o}return u}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class ti extends Ue{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return this.client.buildUrl(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class ii{constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new Ht,this.admins=new Jt(this),this.collections=new Yt(this),this.files=new ei(this),this.logs=new Zt(this),this.settings=new Wt(this),this.realtime=new At(this),this.health=new $t(this),this.backups=new ti(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Qt(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let s=t[i];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",s)}return e}getFileUrl(e,t,i={}){return this.files.getUrl(e,t,i)}buildUrl(e){var i;let t=this.baseUrl;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseUrl),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildUrl(e);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(i,t));s.url!==void 0||s.options!==void 0?(i=s.url||i,t=s.options||t):Object.keys(s).length&&(t=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const s=this.serializeQueryParams(t.query);s&&(i+=(i.includes("?")?"&":"?")+s),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async s=>{let u={};try{u=await s.json()}catch{}if(this.afterSend&&(u=await this.afterSend(s,u)),s.status>=400)throw new Ce({url:s.url,status:s.status,data:u});return u}).catch(s=>{throw new Ce(s)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=this.convertToFormDataIfNeeded(t.body),Tt(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||this.isFormData(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const s=new AbortController;this.cancelControllers[i]=s,t.signal=s.signal}return t}convertToFormDataIfNeeded(e){if(typeof FormData>"u"||e===void 0||typeof e!="object"||e===null||this.isFormData(e)||!this.hasBlobField(e))return e;const t=new FormData;for(let i in e){const s=this.normalizeFormDataValue(e[i]),u=Array.isArray(s)?s:[s];if(u.length)for(const o of u)t.append(i,o);else t.append(i,"")}return t}normalizeFormDataValue(e){return e===null||typeof e!="object"||e instanceof Date||this.hasBlobField({data:e})||Array.isArray(e)&&!e.filter(t=>typeof t!="string").length?e:JSON.stringify(e)}hasBlobField(e){for(let t in e){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let s of i)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}isFormData(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)}serializeQueryParams(e){const t=[];for(const i in e){if(e[i]===null)continue;const s=e[i],u=encodeURIComponent(i);if(Array.isArray(s))for(const o of s)t.push(u+"="+encodeURIComponent(o));else s instanceof Date?t.push(u+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?t.push(u+"="+encodeURIComponent(JSON.stringify(s))):t.push(u+"="+encodeURIComponent(s))}return t.join("&")}}const ht=/[a-zA-Z]/,ft=(p,e=0)=>[...Array(p).keys()].map(t=>t+e);function dt(p,e,t){const i=p.slice();return i[7]=e[t],i}function pt(p){let e;return{c(){e=U("div"),this.h()},l(t){e=D(t,"DIV",{class:!0,style:!0}),X(e).forEach(x),this.h()},h(){A(e,"class","dot svelte-14x3x60"),Ae(e,"--dotSize",+p[3]*.25+p[1]),Ae(e,"--color",p[0]),Ae(e,"animation-delay",p[7]*(+p[6]/10)+p[5]),rt(e,"pause-animation",p[4])},m(t,i){ue(t,e,i)},p(t,i){i&10&&Ae(e,"--dotSize",+t[3]*.25+t[1]),i&1&&Ae(e,"--color",t[0]),i&16&&rt(e,"pause-animation",t[4])},d(t){t&&x(e)}}}function si(p){let e,t=He(ft(3,1)),i=[];for(let s=0;s<t.length;s+=1)i[s]=pt(dt(p,t,s));return{c(){e=U("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0,style:!0});var u=X(e);for(let o=0;o<i.length;o+=1)i[o].l(u);u.forEach(x),this.h()},h(){A(e,"class","wrapper svelte-14x3x60"),Ae(e,"--size",p[3]+p[1]),Ae(e,"--duration",p[2])},m(s,u){ue(s,e,u);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,[u]){if(u&123){t=He(ft(3,1));let o;for(o=0;o<t.length;o+=1){const y=dt(s,t,o);i[o]?i[o].p(y,u):(i[o]=pt(y),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}u&10&&Ae(e,"--size",s[3]+s[1]),u&4&&Ae(e,"--duration",s[2])},i:Fe,o:Fe,d(s){s&&x(e),Ot(i,s)}}}function ni(p,e,t){var O;let{color:i="#FF3E00"}=e,{unit:s="px"}=e,{duration:u="0.6s"}=e,{size:o="60"}=e,{pause:y=!1}=e,C=((O=u.match(ht))==null?void 0:O[0])??"s",_=u.replace(ht,"");return p.$$set=B=>{"color"in B&&t(0,i=B.color),"unit"in B&&t(1,s=B.unit),"duration"in B&&t(2,u=B.duration),"size"in B&&t(3,o=B.size),"pause"in B&&t(4,y=B.pause)},[i,s,u,o,y,C,_]}class ri extends et{constructor(e){super(),tt(this,e,ni,si,$e,{color:0,unit:1,duration:2,size:3,pause:4})}}const mt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20288%20288'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%239a989e;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m4.57,226.06C38.27,158.63,71.93,91.29,105.74,23.66c15.76-31.54,60.75-31.54,76.52,0l101.17,202.41c14.22,28.46-6.46,61.94-38.26,61.94H42.83c-31.8,0-52.48-33.48-38.26-61.94Z'/%3e%3c/svg%3e",gt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20288%20288'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23f2a99d;%20stroke-width:%200px;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='m4.57,226.06C38.27,158.63,71.93,91.29,105.74,23.66c15.76-31.54,60.75-31.54,76.52,0l101.17,202.41c14.22,28.46-6.46,61.94-38.26,61.94H42.83c-31.8,0-52.48-33.48-38.26-61.94Z'/%3e%3c/svg%3e",oi=""+new URL("../assets/KarateBlue.CqdpdrOE.avif",import.meta.url).href,ai=""+new URL("../assets/KaratePink.DPKpILLM.avif",import.meta.url).href,li=""+new URL("../assets/KarateGreen.CpfLj3yD.avif",import.meta.url).href,ci=""+new URL("../assets/KarateYellow.DGpzy_ao.avif",import.meta.url).href,It=""+new URL("../assets/Ticket.CFqHXuZx.avif",import.meta.url).href;var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var Pt={exports:{}};(function(p){(function(e){var t,i=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",u=Math.ceil,o=Math.floor,y="[BigNumber Error] ",C=y+"Number primitive has more than 15 significant digits: ",_=1e14,O=14,B=9007199254740991,te=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],$=1e7,N=1e9;function le(P){var k,F,M,S=v.prototype={constructor:v,toString:null,valueOf:null},V=new v(1),W=20,J=4,Q=-7,oe=21,be=-1e7,de=1e7,ge=!1,ye=1,_e=0,Ne={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},pe="0123456789abcdefghijklmnopqrstuvwxyz";function v(n,r){var a,f,c,d,b,l,h,g,m=this;if(!(m instanceof v))return new v(n,r);if(r==null){if(n&&n._isBigNumber===!0){m.s=n.s,!n.c||n.e>de?m.c=m.e=null:n.e<be?m.c=[m.e=0]:(m.e=n.e,m.c=n.c.slice());return}if((l=typeof n=="number")&&n*0==0){if(m.s=1/n<0?(n=-n,-1):1,n===~~n){for(d=0,b=n;b>=10;b/=10,d++);d>de?m.c=m.e=null:(m.e=d,m.c=[n]);return}g=String(n)}else{if(!i.test(g=String(n)))return M(m,g,l);m.s=g.charCodeAt(0)==45?(g=g.slice(1),-1):1}(d=g.indexOf("."))>-1&&(g=g.replace(".","")),(b=g.search(/e/i))>0?(d<0&&(d=b),d+=+g.slice(b+1),g=g.substring(0,b)):d<0&&(d=g.length)}else{if(j(r,2,pe.length,"Base"),r==10)return m=new v(n),Y(m,W+m.e+1,J);if(g=String(n),l=typeof n=="number"){if(n*0!=0)return M(m,g,l,r);if(m.s=1/n<0?(g=g.slice(1),-1):1,v.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error(C+n)}else m.s=g.charCodeAt(0)===45?(g=g.slice(1),-1):1;for(a=pe.slice(0,r),d=b=0,h=g.length;b<h;b++)if(a.indexOf(f=g.charAt(b))<0){if(f=="."){if(b>d){d=h;continue}}else if(!c&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){c=!0,b=-1,d=0;continue}return M(m,String(n),l,r)}l=!1,g=F(g,r,10,m.s),(d=g.indexOf("."))>-1?g=g.replace(".",""):d=g.length}for(b=0;g.charCodeAt(b)===48;b++);for(h=g.length;g.charCodeAt(--h)===48;);if(g=g.slice(b,++h)){if(h-=b,l&&v.DEBUG&&h>15&&(n>B||n!==o(n)))throw Error(C+m.s*n);if((d=d-b-1)>de)m.c=m.e=null;else if(d<be)m.c=[m.e=0];else{if(m.e=d,m.c=[],b=(d+1)%O,d<0&&(b+=O),b<h){for(b&&m.c.push(+g.slice(0,b)),h-=O;b<h;)m.c.push(+g.slice(b,b+=O));b=O-(g=g.slice(b)).length}else b-=h;for(;b--;g+="0");m.c.push(+g)}}else m.c=[m.e=0]}v.clone=le,v.ROUND_UP=0,v.ROUND_DOWN=1,v.ROUND_CEIL=2,v.ROUND_FLOOR=3,v.ROUND_HALF_UP=4,v.ROUND_HALF_DOWN=5,v.ROUND_HALF_EVEN=6,v.ROUND_HALF_CEIL=7,v.ROUND_HALF_FLOOR=8,v.EUCLID=9,v.config=v.set=function(n){var r,a;if(n!=null)if(typeof n=="object"){if(n.hasOwnProperty(r="DECIMAL_PLACES")&&(a=n[r],j(a,0,N,r),W=a),n.hasOwnProperty(r="ROUNDING_MODE")&&(a=n[r],j(a,0,8,r),J=a),n.hasOwnProperty(r="EXPONENTIAL_AT")&&(a=n[r],a&&a.pop?(j(a[0],-N,0,r),j(a[1],0,N,r),Q=a[0],oe=a[1]):(j(a,-N,N,r),Q=-(oe=a<0?-a:a))),n.hasOwnProperty(r="RANGE"))if(a=n[r],a&&a.pop)j(a[0],-N,-1,r),j(a[1],1,N,r),be=a[0],de=a[1];else if(j(a,-N,N,r),a)be=-(de=a<0?-a:a);else throw Error(y+r+" cannot be zero: "+a);if(n.hasOwnProperty(r="CRYPTO"))if(a=n[r],a===!!a)if(a)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ge=a;else throw ge=!a,Error(y+"crypto unavailable");else ge=a;else throw Error(y+r+" not true or false: "+a);if(n.hasOwnProperty(r="MODULO_MODE")&&(a=n[r],j(a,0,9,r),ye=a),n.hasOwnProperty(r="POW_PRECISION")&&(a=n[r],j(a,0,N,r),_e=a),n.hasOwnProperty(r="FORMAT"))if(a=n[r],typeof a=="object")Ne=a;else throw Error(y+r+" not an object: "+a);if(n.hasOwnProperty(r="ALPHABET"))if(a=n[r],typeof a=="string"&&!/^.$|[+-.\s]|(.).*\1/.test(a))pe=a;else throw Error(y+r+" invalid: "+a)}else throw Error(y+"Object expected: "+n);return{DECIMAL_PLACES:W,ROUNDING_MODE:J,EXPONENTIAL_AT:[Q,oe],RANGE:[be,de],CRYPTO:ge,MODULO_MODE:ye,POW_PRECISION:_e,FORMAT:Ne,ALPHABET:pe}},v.isBigNumber=function(n){if(!n||n._isBigNumber!==!0)return!1;if(!v.DEBUG)return!0;var r,a,f=n.c,c=n.e,d=n.s;e:if({}.toString.call(f)=="[object Array]"){if((d===1||d===-1)&&c>=-N&&c<=N&&c===o(c)){if(f[0]===0){if(c===0&&f.length===1)return!0;break e}if(r=(c+1)%O,r<1&&(r+=O),String(f[0]).length==r){for(r=0;r<f.length;r++)if(a=f[r],a<0||a>=_||a!==o(a))break e;if(a!==0)return!0}}}else if(f===null&&c===null&&(d===null||d===1||d===-1))return!0;throw Error(y+"Invalid BigNumber: "+n)},v.maximum=v.max=function(){return Re(arguments,S.lt)},v.minimum=v.min=function(){return Re(arguments,S.gt)},v.random=function(){var n=9007199254740992,r=Math.random()*n&2097151?function(){return o(Math.random()*n)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(a){var f,c,d,b,l,h=0,g=[],m=new v(V);if(a==null?a=W:j(a,0,N),b=u(a/O),ge)if(crypto.getRandomValues){for(f=crypto.getRandomValues(new Uint32Array(b*=2));h<b;)l=f[h]*131072+(f[h+1]>>>11),l>=9e15?(c=crypto.getRandomValues(new Uint32Array(2)),f[h]=c[0],f[h+1]=c[1]):(g.push(l%1e14),h+=2);h=b/2}else if(crypto.randomBytes){for(f=crypto.randomBytes(b*=7);h<b;)l=(f[h]&31)*281474976710656+f[h+1]*1099511627776+f[h+2]*4294967296+f[h+3]*16777216+(f[h+4]<<16)+(f[h+5]<<8)+f[h+6],l>=9e15?crypto.randomBytes(7).copy(f,h):(g.push(l%1e14),h+=7);h=b/7}else throw ge=!1,Error(y+"crypto unavailable");if(!ge)for(;h<b;)l=r(),l<9e15&&(g[h++]=l%1e14);for(b=g[--h],a%=O,b&&a&&(l=te[O-a],g[h]=o(b/l)*l);g[h]===0;g.pop(),h--);if(h<0)g=[d=0];else{for(d=-1;g[0]===0;g.splice(0,1),d-=O);for(h=1,l=g[0];l>=10;l/=10,h++);h<O&&(d-=O-h)}return m.e=d,m.c=g,m}}(),v.sum=function(){for(var n=1,r=arguments,a=new v(r[0]);n<r.length;)a=a.plus(r[n++]);return a},F=function(){var n="0123456789";function r(a,f,c,d){for(var b,l=[0],h,g=0,m=a.length;g<m;){for(h=l.length;h--;l[h]*=f);for(l[0]+=d.indexOf(a.charAt(g++)),b=0;b<l.length;b++)l[b]>c-1&&(l[b+1]==null&&(l[b+1]=0),l[b+1]+=l[b]/c|0,l[b]%=c)}return l.reverse()}return function(a,f,c,d,b){var l,h,g,m,w,E,T,z,Z=a.indexOf("."),ne=W,G=J;for(Z>=0&&(m=_e,_e=0,a=a.replace(".",""),z=new v(f),E=z.pow(a.length-Z),_e=m,z.c=r(q(I(E.c),E.e,"0"),10,c,n),z.e=z.c.length),T=r(a,f,c,b?(l=pe,n):(l=n,pe)),g=m=T.length;T[--m]==0;T.pop());if(!T[0])return l.charAt(0);if(Z<0?--g:(E.c=T,E.e=g,E.s=d,E=k(E,z,ne,G,c),T=E.c,w=E.r,g=E.e),h=g+ne+1,Z=T[h],m=c/2,w=w||h<0||T[h+1]!=null,w=G<4?(Z!=null||w)&&(G==0||G==(E.s<0?3:2)):Z>m||Z==m&&(G==4||w||G==6&&T[h-1]&1||G==(E.s<0?8:7)),h<1||!T[0])a=w?q(l.charAt(1),-ne,l.charAt(0)):l.charAt(0);else{if(T.length=h,w)for(--c;++T[--h]>c;)T[h]=0,h||(++g,T=[1].concat(T));for(m=T.length;!T[--m];);for(Z=0,a="";Z<=m;a+=l.charAt(T[Z++]));a=q(a,g,l.charAt(0))}return a}}(),k=function(){function n(f,c,d){var b,l,h,g,m=0,w=f.length,E=c%$,T=c/$|0;for(f=f.slice();w--;)h=f[w]%$,g=f[w]/$|0,b=T*h+g*E,l=E*h+b%$*$+m,m=(l/d|0)+(b/$|0)+T*g,f[w]=l%d;return m&&(f=[m].concat(f)),f}function r(f,c,d,b){var l,h;if(d!=b)h=d>b?1:-1;else for(l=h=0;l<d;l++)if(f[l]!=c[l]){h=f[l]>c[l]?1:-1;break}return h}function a(f,c,d,b){for(var l=0;d--;)f[d]-=l,l=f[d]<c[d]?1:0,f[d]=l*b+f[d]-c[d];for(;!f[0]&&f.length>1;f.splice(0,1));}return function(f,c,d,b,l){var h,g,m,w,E,T,z,Z,ne,G,H,ae,Te,De,Pe,ve,xe,we=f.s==c.s?1:-1,me=f.c,re=c.c;if(!me||!me[0]||!re||!re[0])return new v(!f.s||!c.s||(me?re&&me[0]==re[0]:!re)?NaN:me&&me[0]==0||!re?we*0:we/0);for(Z=new v(we),ne=Z.c=[],g=f.e-c.e,we=d+g+1,l||(l=_,g=L(f.e/O)-L(c.e/O),we=we/O|0),m=0;re[m]==(me[m]||0);m++);if(re[m]>(me[m]||0)&&g--,we<0)ne.push(1),w=!0;else{for(De=me.length,ve=re.length,m=0,we+=2,E=o(l/(re[0]+1)),E>1&&(re=n(re,E,l),me=n(me,E,l),ve=re.length,De=me.length),Te=ve,G=me.slice(0,ve),H=G.length;H<ve;G[H++]=0);xe=re.slice(),xe=[0].concat(xe),Pe=re[0],re[1]>=l/2&&Pe++;do{if(E=0,h=r(re,G,ve,H),h<0){if(ae=G[0],ve!=H&&(ae=ae*l+(G[1]||0)),E=o(ae/Pe),E>1)for(E>=l&&(E=l-1),T=n(re,E,l),z=T.length,H=G.length;r(T,G,z,H)==1;)E--,a(T,ve<z?xe:re,z,l),z=T.length,h=1;else E==0&&(h=E=1),T=re.slice(),z=T.length;if(z<H&&(T=[0].concat(T)),a(G,T,H,l),H=G.length,h==-1)for(;r(re,G,ve,H)<1;)E++,a(G,ve<H?xe:re,H,l),H=G.length}else h===0&&(E++,G=[0]);ne[m++]=E,G[0]?G[H++]=me[Te]||0:(G=[me[Te]],H=1)}while((Te++<De||G[0]!=null)&&we--);w=G[0]!=null,ne[0]||ne.splice(0,1)}if(l==_){for(m=1,we=ne[0];we>=10;we/=10,m++);Y(Z,d+(Z.e=m+g*O-1)+1,b,w)}else Z.e=g,Z.r=+w;return Z}}();function Ie(n,r,a,f){var c,d,b,l,h;if(a==null?a=J:j(a,0,8),!n.c)return n.toString();if(c=n.c[0],b=n.e,r==null)h=I(n.c),h=f==1||f==2&&(b<=Q||b>=oe)?K(h,b):q(h,b,"0");else if(n=Y(new v(n),r,a),d=n.e,h=I(n.c),l=h.length,f==1||f==2&&(r<=d||d<=Q)){for(;l<r;h+="0",l++);h=K(h,d)}else if(r-=b,h=q(h,d,"0"),d+1>l){if(--r>0)for(h+=".";r--;h+="0");}else if(r+=d-l,r>0)for(d+1==l&&(h+=".");r--;h+="0");return n.s<0&&c?"-"+h:h}function Re(n,r){for(var a,f=1,c=new v(n[0]);f<n.length;f++)if(a=new v(n[f]),a.s)r.call(c,a)&&(c=a);else{c=a;break}return c}function Ee(n,r,a){for(var f=1,c=r.length;!r[--c];r.pop());for(c=r[0];c>=10;c/=10,f++);return(a=f+a*O-1)>de?n.c=n.e=null:a<be?n.c=[n.e=0]:(n.e=a,n.c=r),n}M=function(){var n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,a=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,c=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(d,b,l,h){var g,m=l?b:b.replace(c,"");if(f.test(m))d.s=isNaN(m)?null:m<0?-1:1;else{if(!l&&(m=m.replace(n,function(w,E,T){return g=(T=T.toLowerCase())=="x"?16:T=="b"?2:8,!h||h==g?E:w}),h&&(g=h,m=m.replace(r,"$1").replace(a,"0.$1")),b!=m))return new v(m,g);if(v.DEBUG)throw Error(y+"Not a"+(h?" base "+h:"")+" number: "+b);d.s=null}d.c=d.e=null}}();function Y(n,r,a,f){var c,d,b,l,h,g,m,w=n.c,E=te;if(w){e:{for(c=1,l=w[0];l>=10;l/=10,c++);if(d=r-c,d<0)d+=O,b=r,h=w[g=0],m=h/E[c-b-1]%10|0;else if(g=u((d+1)/O),g>=w.length)if(f){for(;w.length<=g;w.push(0));h=m=0,c=1,d%=O,b=d-O+1}else break e;else{for(h=l=w[g],c=1;l>=10;l/=10,c++);d%=O,b=d-O+c,m=b<0?0:h/E[c-b-1]%10|0}if(f=f||r<0||w[g+1]!=null||(b<0?h:h%E[c-b-1]),f=a<4?(m||f)&&(a==0||a==(n.s<0?3:2)):m>5||m==5&&(a==4||f||a==6&&(d>0?b>0?h/E[c-b]:0:w[g-1])%10&1||a==(n.s<0?8:7)),r<1||!w[0])return w.length=0,f?(r-=n.e+1,w[0]=E[(O-r%O)%O],n.e=-r||0):w[0]=n.e=0,n;if(d==0?(w.length=g,l=1,g--):(w.length=g+1,l=E[O-d],w[g]=b>0?o(h/E[c-b]%E[b])*l:0),f)for(;;)if(g==0){for(d=1,b=w[0];b>=10;b/=10,d++);for(b=w[0]+=l,l=1;b>=10;b/=10,l++);d!=l&&(n.e++,w[0]==_&&(w[0]=1));break}else{if(w[g]+=l,w[g]!=_)break;w[g--]=0,l=1}for(d=w.length;w[--d]===0;w.pop());}n.e>de?n.c=n.e=null:n.e<be&&(n.c=[n.e=0])}return n}function se(n){var r,a=n.e;return a===null?n.toString():(r=I(n.c),r=a<=Q||a>=oe?K(r,a):q(r,a,"0"),n.s<0?"-"+r:r)}return S.absoluteValue=S.abs=function(){var n=new v(this);return n.s<0&&(n.s=1),n},S.comparedTo=function(n,r){return ie(this,new v(n,r))},S.decimalPlaces=S.dp=function(n,r){var a,f,c,d=this;if(n!=null)return j(n,0,N),r==null?r=J:j(r,0,8),Y(new v(d),n+d.e+1,r);if(!(a=d.c))return null;if(f=((c=a.length-1)-L(this.e/O))*O,c=a[c])for(;c%10==0;c/=10,f--);return f<0&&(f=0),f},S.dividedBy=S.div=function(n,r){return k(this,new v(n,r),W,J)},S.dividedToIntegerBy=S.idiv=function(n,r){return k(this,new v(n,r),0,1)},S.exponentiatedBy=S.pow=function(n,r){var a,f,c,d,b,l,h,g,m,w=this;if(n=new v(n),n.c&&!n.isInteger())throw Error(y+"Exponent not an integer: "+se(n));if(r!=null&&(r=new v(r)),l=n.e>14,!w.c||!w.c[0]||w.c[0]==1&&!w.e&&w.c.length==1||!n.c||!n.c[0])return m=new v(Math.pow(+se(w),l?2-ce(n):+se(n))),r?m.mod(r):m;if(h=n.s<0,r){if(r.c?!r.c[0]:!r.s)return new v(NaN);f=!h&&w.isInteger()&&r.isInteger(),f&&(w=w.mod(r))}else{if(n.e>9&&(w.e>0||w.e<-1||(w.e==0?w.c[0]>1||l&&w.c[1]>=24e7:w.c[0]<8e13||l&&w.c[0]<=9999975e7)))return d=w.s<0&&ce(n)?-0:0,w.e>-1&&(d=1/d),new v(h?1/d:d);_e&&(d=u(_e/O+2))}for(l?(a=new v(.5),h&&(n.s=1),g=ce(n)):(c=Math.abs(+se(n)),g=c%2),m=new v(V);;){if(g){if(m=m.times(w),!m.c)break;d?m.c.length>d&&(m.c.length=d):f&&(m=m.mod(r))}if(c){if(c=o(c/2),c===0)break;g=c%2}else if(n=n.times(a),Y(n,n.e+1,1),n.e>14)g=ce(n);else{if(c=+se(n),c===0)break;g=c%2}w=w.times(w),d?w.c&&w.c.length>d&&(w.c.length=d):f&&(w=w.mod(r))}return f?m:(h&&(m=V.div(m)),r?m.mod(r):d?Y(m,_e,J,b):m)},S.integerValue=function(n){var r=new v(this);return n==null?n=J:j(n,0,8),Y(r,r.e+1,n)},S.isEqualTo=S.eq=function(n,r){return ie(this,new v(n,r))===0},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(n,r){return ie(this,new v(n,r))>0},S.isGreaterThanOrEqualTo=S.gte=function(n,r){return(r=ie(this,new v(n,r)))===1||r===0},S.isInteger=function(){return!!this.c&&L(this.e/O)>this.c.length-2},S.isLessThan=S.lt=function(n,r){return ie(this,new v(n,r))<0},S.isLessThanOrEqualTo=S.lte=function(n,r){return(r=ie(this,new v(n,r)))===-1||r===0},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&this.c[0]==0},S.minus=function(n,r){var a,f,c,d,b=this,l=b.s;if(n=new v(n,r),r=n.s,!l||!r)return new v(NaN);if(l!=r)return n.s=-r,b.plus(n);var h=b.e/O,g=n.e/O,m=b.c,w=n.c;if(!h||!g){if(!m||!w)return m?(n.s=-r,n):new v(w?b:NaN);if(!m[0]||!w[0])return w[0]?(n.s=-r,n):new v(m[0]?b:J==3?-0:0)}if(h=L(h),g=L(g),m=m.slice(),l=h-g){for((d=l<0)?(l=-l,c=m):(g=h,c=w),c.reverse(),r=l;r--;c.push(0));c.reverse()}else for(f=(d=(l=m.length)<(r=w.length))?l:r,l=r=0;r<f;r++)if(m[r]!=w[r]){d=m[r]<w[r];break}if(d&&(c=m,m=w,w=c,n.s=-n.s),r=(f=w.length)-(a=m.length),r>0)for(;r--;m[a++]=0);for(r=_-1;f>l;){if(m[--f]<w[f]){for(a=f;a&&!m[--a];m[a]=r);--m[a],m[f]+=_}m[f]-=w[f]}for(;m[0]==0;m.splice(0,1),--g);return m[0]?Ee(n,m,g):(n.s=J==3?-1:1,n.c=[n.e=0],n)},S.modulo=S.mod=function(n,r){var a,f,c=this;return n=new v(n,r),!c.c||!n.s||n.c&&!n.c[0]?new v(NaN):!n.c||c.c&&!c.c[0]?new v(c):(ye==9?(f=n.s,n.s=1,a=k(c,n,0,3),n.s=f,a.s*=f):a=k(c,n,0,ye),n=c.minus(a.times(n)),!n.c[0]&&ye==1&&(n.s=c.s),n)},S.multipliedBy=S.times=function(n,r){var a,f,c,d,b,l,h,g,m,w,E,T,z,Z,ne,G=this,H=G.c,ae=(n=new v(n,r)).c;if(!H||!ae||!H[0]||!ae[0])return!G.s||!n.s||H&&!H[0]&&!ae||ae&&!ae[0]&&!H?n.c=n.e=n.s=null:(n.s*=G.s,!H||!ae?n.c=n.e=null:(n.c=[0],n.e=0)),n;for(f=L(G.e/O)+L(n.e/O),n.s*=G.s,h=H.length,w=ae.length,h<w&&(z=H,H=ae,ae=z,c=h,h=w,w=c),c=h+w,z=[];c--;z.push(0));for(Z=_,ne=$,c=w;--c>=0;){for(a=0,E=ae[c]%ne,T=ae[c]/ne|0,b=h,d=c+b;d>c;)g=H[--b]%ne,m=H[b]/ne|0,l=T*g+m*E,g=E*g+l%ne*ne+z[d]+a,a=(g/Z|0)+(l/ne|0)+T*m,z[d--]=g%Z;z[d]=a}return a?++f:z.splice(0,1),Ee(n,z,f)},S.negated=function(){var n=new v(this);return n.s=-n.s||null,n},S.plus=function(n,r){var a,f=this,c=f.s;if(n=new v(n,r),r=n.s,!c||!r)return new v(NaN);if(c!=r)return n.s=-r,f.minus(n);var d=f.e/O,b=n.e/O,l=f.c,h=n.c;if(!d||!b){if(!l||!h)return new v(c/0);if(!l[0]||!h[0])return h[0]?n:new v(l[0]?f:c*0)}if(d=L(d),b=L(b),l=l.slice(),c=d-b){for(c>0?(b=d,a=h):(c=-c,a=l),a.reverse();c--;a.push(0));a.reverse()}for(c=l.length,r=h.length,c-r<0&&(a=h,h=l,l=a,r=c),c=0;r;)c=(l[--r]=l[r]+h[r]+c)/_|0,l[r]=_===l[r]?0:l[r]%_;return c&&(l=[c].concat(l),++b),Ee(n,l,b)},S.precision=S.sd=function(n,r){var a,f,c,d=this;if(n!=null&&n!==!!n)return j(n,1,N),r==null?r=J:j(r,0,8),Y(new v(d),n,r);if(!(a=d.c))return null;if(c=a.length-1,f=c*O+1,c=a[c]){for(;c%10==0;c/=10,f--);for(c=a[0];c>=10;c/=10,f++);}return n&&d.e+1>f&&(f=d.e+1),f},S.shiftedBy=function(n){return j(n,-B,B),this.times("1e"+n)},S.squareRoot=S.sqrt=function(){var n,r,a,f,c,d=this,b=d.c,l=d.s,h=d.e,g=W+4,m=new v("0.5");if(l!==1||!b||!b[0])return new v(!l||l<0&&(!b||b[0])?NaN:b?d:1/0);if(l=Math.sqrt(+se(d)),l==0||l==1/0?(r=I(b),(r.length+h)%2==0&&(r+="0"),l=Math.sqrt(+r),h=L((h+1)/2)-(h<0||h%2),l==1/0?r="1e"+h:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+h),a=new v(r)):a=new v(l+""),a.c[0]){for(h=a.e,l=h+g,l<3&&(l=0);;)if(c=a,a=m.times(c.plus(k(d,c,g,1))),I(c.c).slice(0,l)===(r=I(a.c)).slice(0,l))if(a.e<h&&--l,r=r.slice(l-3,l+1),r=="9999"||!f&&r=="4999"){if(!f&&(Y(c,c.e+W+2,0),c.times(c).eq(d))){a=c;break}g+=4,l+=4,f=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Y(a,a.e+W+2,1),n=!a.times(a).eq(d));break}}return Y(a,a.e+W+1,J,n)},S.toExponential=function(n,r){return n!=null&&(j(n,0,N),n++),Ie(this,n,r,1)},S.toFixed=function(n,r){return n!=null&&(j(n,0,N),n=n+this.e+1),Ie(this,n,r)},S.toFormat=function(n,r,a){var f,c=this;if(a==null)n!=null&&r&&typeof r=="object"?(a=r,r=null):n&&typeof n=="object"?(a=n,n=r=null):a=Ne;else if(typeof a!="object")throw Error(y+"Argument not an object: "+a);if(f=c.toFixed(n,r),c.c){var d,b=f.split("."),l=+a.groupSize,h=+a.secondaryGroupSize,g=a.groupSeparator||"",m=b[0],w=b[1],E=c.s<0,T=E?m.slice(1):m,z=T.length;if(h&&(d=l,l=h,h=d,z-=d),l>0&&z>0){for(d=z%l||l,m=T.substr(0,d);d<z;d+=l)m+=g+T.substr(d,l);h>0&&(m+=g+T.slice(d)),E&&(m="-"+m)}f=w?m+(a.decimalSeparator||"")+((h=+a.fractionGroupSize)?w.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(a.fractionGroupSeparator||"")):w):m}return(a.prefix||"")+f+(a.suffix||"")},S.toFraction=function(n){var r,a,f,c,d,b,l,h,g,m,w,E,T=this,z=T.c;if(n!=null&&(l=new v(n),!l.isInteger()&&(l.c||l.s!==1)||l.lt(V)))throw Error(y+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+se(l));if(!z)return new v(T);for(r=new v(V),g=a=new v(V),f=h=new v(V),E=I(z),d=r.e=E.length-T.e-1,r.c[0]=te[(b=d%O)<0?O+b:b],n=!n||l.comparedTo(r)>0?d>0?r:g:l,b=de,de=1/0,l=new v(E),h.c[0]=0;m=k(l,r,0,1),c=a.plus(m.times(f)),c.comparedTo(n)!=1;)a=f,f=c,g=h.plus(m.times(c=g)),h=c,r=l.minus(m.times(c=r)),l=c;return c=k(n.minus(a),f,0,1),h=h.plus(c.times(g)),a=a.plus(c.times(f)),h.s=g.s=T.s,d=d*2,w=k(g,f,d,J).minus(T).abs().comparedTo(k(h,a,d,J).minus(T).abs())<1?[g,f]:[h,a],de=b,w},S.toNumber=function(){return+se(this)},S.toPrecision=function(n,r){return n!=null&&j(n,1,N),Ie(this,n,r,2)},S.toString=function(n){var r,a=this,f=a.s,c=a.e;return c===null?f?(r="Infinity",f<0&&(r="-"+r)):r="NaN":(n==null?r=c<=Q||c>=oe?K(I(a.c),c):q(I(a.c),c,"0"):n===10?(a=Y(new v(a),W+c+1,J),r=q(I(a.c),a.e,"0")):(j(n,2,pe.length,"Base"),r=F(q(I(a.c),c,"0"),10,n,f,!0)),f<0&&a.c[0]&&(r="-"+r)),r},S.valueOf=S.toJSON=function(){return se(this)},S._isBigNumber=!0,s&&(S[Symbol.toStringTag]="BigNumber",S[Symbol.for("nodejs.util.inspect.custom")]=S.valueOf),P!=null&&v.set(P),v}function L(P){var k=P|0;return P>0||P===k?k:k-1}function I(P){for(var k,F,M=1,S=P.length,V=P[0]+"";M<S;){for(k=P[M++]+"",F=O-k.length;F--;k="0"+k);V+=k}for(S=V.length;V.charCodeAt(--S)===48;);return V.slice(0,S+1||1)}function ie(P,k){var F,M,S=P.c,V=k.c,W=P.s,J=k.s,Q=P.e,oe=k.e;if(!W||!J)return null;if(F=S&&!S[0],M=V&&!V[0],F||M)return F?M?0:-J:W;if(W!=J)return W;if(F=W<0,M=Q==oe,!S||!V)return M?0:!S^F?1:-1;if(!M)return Q>oe^F?1:-1;for(J=(Q=S.length)<(oe=V.length)?Q:oe,W=0;W<J;W++)if(S[W]!=V[W])return S[W]>V[W]^F?1:-1;return Q==oe?0:Q>oe^F?1:-1}function j(P,k,F,M){if(P<k||P>F||P!==o(P))throw Error(y+(M||"Argument")+(typeof P=="number"?P<k||P>F?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function ce(P){var k=P.c.length-1;return L(P.e/O)==k&&P.c[k]%2!=0}function K(P,k){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(k<0?"e":"e+")+k}function q(P,k,F){var M,S;if(k<0){for(S=F+".";++k;S+=F);P=S+P}else if(M=P.length,++k>M){for(S=F,k-=M;--k;S+=F);P+=S}else k<M&&(P=P.slice(0,k)+"."+P.slice(k));return P}t=le(),t.default=t.BigNumber=t,p.exports?p.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(ui)})(Pt);var fi=Pt.exports,ee=fi;function Ze(p){var e={"-18":"wei","-15":"kwei","-12":"mwei","-9":"gwei","-6":"szabo","-3":"finney",1:"ether",3:"kether",6:"mether",9:"gether",12:"tether"};return typeof p=="string"&&(p=p.trim().toLowerCase()),p!==void 0&&!isNaN(p)&&(p=e[p]),p}function di(p,e){if(p===void 0)throw TypeError("value is required");if(e=Ze(e),e===void 0)throw TypeError("unit is required");var t=new ee(p);if(e==="eth"&&(e="ether"),e==="wei")return t.times(new ee(1e-18));if(e==="kwei")return t.times(new ee(1e-15));if(e==="mwei")return t.times(new ee(1e-12));if(e==="gwei")return t.times(new ee(1e-9));if(e==="szabo")return t.times(new ee(1e-6));if(e==="finney")return t.times(new ee(.001));if(e==="ether")return t.times(new ee(1));if(e==="kether")return t.times(new ee(1e3));if(e==="mether")return t.times(new ee(1e6));if(e==="gether")return t.times(new ee(1e9));if(e==="tether")return t.times(new ee(1e12));throw TypeError("Invalid unit")}function pi(p,e,t){e=Ze(e),t=Ze(t);var i=di(p,e);e==="eth"&&(e="ether"),t==="eth"&&(t="ether");var s={wei:null,kwei:null,mwei:null,gwei:null,szabo:null,finney:null,ether:null,kether:null,mether:null,gether:null,tether:null};if(s[e]=new ee(p).toString(10),e!=="wei"&&(s.wei=i.times(new ee(1e18)).toString(10)),e!=="kwei"&&(s.kwei=i.times(new ee(1e15)).toString(10)),e!=="mwei"&&(s.mwei=i.times(new ee(1e12)).toString(10)),e!=="gwei"&&(s.gwei=i.times(new ee(1e9)).toString(10)),e!=="szabo"&&(s.szabo=i.times(new ee(1e6)).toString(10)),e!=="finney"&&(s.finney=i.times(new ee(1e3)).toString(10)),e!=="ether"&&(s.ether=i.times(new ee(1)).toString(10)),e!=="kether"&&(s.kether=i.times(new ee(.001)).toString(10)),e!=="mether"&&(s.mether=i.times(new ee(1e-6)).toString(10)),e!=="gether"&&(s.gether=i.times(new ee(1e-9)).toString(10)),e!=="tether"&&(s.tether=i.times(new ee(1e-12)).toString(10)),t){if(s[t]===void 0)throw TypeError("Invalid unit");return s[t]}return s}var mi=pi;const wt=hi(mi);function bt(p){let e,t=wt(p[0].minimumGas,"wei","gwei")+"",i,s;return{c(){e=U("p"),i=je(t),s=je(" gwei"),this.h()},l(u){e=D(u,"P",{class:!0});var o=X(e);i=Be(o,t),s=Be(o," gwei"),o.forEach(x),this.h()},h(){A(e,"class","truncate text-[hsl(var(--twc-cardSubBodyColor))]")},m(u,o){ue(u,e,o),R(e,i),R(e,s)},p(u,o){o&1&&t!==(t=wt(u[0].minimumGas,"wei","gwei")+"")&&Ge(i,t)},d(u){u&&x(e)}}}function gi(p){let e,t,i,s="prover",u,o,y,C,_,O,B,te=`<img src="${It}" class="icon-small w-8 mr-2" alt="red karate uniform icon"/> <p class="">min proof fee</p>`,$,N,le,L,I,ie=`<img src="${Mt}" class="icon-small w-8 mr-2" alt="red karate uniform icon"/> <p class="">address</p>`,j,ce,K,q=p[0].url+"",P,k=p[0].minimumGas!==void 0&&bt(p);return{c(){e=U("div"),t=U("div"),i=U("h3"),i.textContent=s,u=he(),o=U("img"),C=he(),_=U("div"),O=U("div"),B=U("div"),B.innerHTML=te,$=he(),N=U("div"),k&&k.c(),le=he(),L=U("div"),I=U("div"),I.innerHTML=ie,j=he(),ce=U("div"),K=U("p"),P=je(q),this.h()},l(F){e=D(F,"DIV",{class:!0});var M=X(e);t=D(M,"DIV",{class:!0});var S=X(t);i=D(S,"H3",{class:!0,"data-svelte-h":!0}),qe(i)!=="svelte-1cfb05m"&&(i.textContent=s),u=fe(S),o=D(S,"IMG",{src:!0,alt:!0}),S.forEach(x),C=fe(M),_=D(M,"DIV",{class:!0});var V=X(_);O=D(V,"DIV",{class:!0});var W=X(O);B=D(W,"DIV",{class:!0,"data-svelte-h":!0}),qe(B)!=="svelte-1n8nnor"&&(B.innerHTML=te),$=fe(W),N=D(W,"DIV",{class:!0});var J=X(N);k&&k.l(J),J.forEach(x),W.forEach(x),le=fe(V),L=D(V,"DIV",{class:!0});var Q=X(L);I=D(Q,"DIV",{class:!0,"data-svelte-h":!0}),qe(I)!=="svelte-3g24rn"&&(I.innerHTML=ie),j=fe(Q),ce=D(Q,"DIV",{class:!0});var oe=X(ce);K=D(oe,"P",{class:!0});var be=X(K);P=Be(be,q),be.forEach(x),oe.forEach(x),Q.forEach(x),V.forEach(x),M.forEach(x),this.h()},h(){A(i,"class","modal-title font-bold text-xl text-[#E53325]"),Le(o.src,y=p[1])||A(o,"src",y),A(o,"alt","icon"),A(t,"class","w-[85px]"),A(B,"class","flex flex-col items-start"),A(N,"class","flex flex-col text-left"),A(O,"class","flex flex-col items-start"),A(I,"class","flex flex-col items-start"),A(K,"class","truncate text-[hsl(var(--twc-cardSubBodyColor))]"),A(ce,"class","flex flex-col text-left"),A(L,"class","flex flex-col items-start"),A(_,"class","flex flex-col items-start mt-4 w-[225px] ml-auto card-subbody overflow-clip gap-2"),A(e,"class","modal shadow-md flex content-between items-center justify-around flex-row svelte-1vrmzm5")},m(F,M){ue(F,e,M),R(e,t),R(t,i),R(t,u),R(t,o),R(e,C),R(e,_),R(_,O),R(O,B),R(O,$),R(O,N),k&&k.m(N,null),R(_,le),R(_,L),R(L,I),R(L,j),R(L,ce),R(ce,K),R(K,P)},p(F,[M]){M&2&&!Le(o.src,y=F[1])&&A(o,"src",y),F[0].minimumGas!==void 0?k?k.p(F,M):(k=bt(F),k.c(),k.m(N,null)):k&&(k.d(1),k=null),M&1&&q!==(q=F[0].url+"")&&Ge(P,q)},i:Fe,o:Fe,d(F){F&&x(e),k&&k.d()}}}function wi(p,e,t){let{endpoint:i}=e,s;p.$$set=u=>{"endpoint"in u&&t(0,i=u.endpoint)};{const u=Math.floor(Math.random()*10);u===0?t(1,s=Bt):u>=1&&u<=2?t(1,s=li):u>=3&&u<=4?t(1,s=ci):u>=5&&u<=7?t(1,s=oi):t(1,s=ai)}return[i,s]}class xt extends et{constructor(e){super(),tt(this,e,wi,gi,$e,{endpoint:0})}}const bi=""+new URL("../assets/CheckMark.CZlts7nq.avif",import.meta.url).href,yi=""+new URL("../assets/Copy.ApILFNa4.avif",import.meta.url).href,vi=""+new URL("../assets/Submit.CeHygA8T.avif",import.meta.url).href,{document:Ke}=Dt;function yt(p,e,t){const i=p.slice();return i[19]=e[t],i}function vt(p){let e,t;return{c(){e=U("span"),t=je(p[2]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var s=X(e);t=Be(s,p[2]),s.forEach(x),this.h()},h(){A(e,"class","text-[#E53325] text-sm mb-3 md:mt-2 -mt-2")},m(i,s){ue(i,e,s),R(e,t)},p(i,s){s&4&&Ge(t,i[2])},d(i){i&&x(e)}}}function St(p){let e,t;return{c(){e=U("span"),t=je(p[3]),this.h()},l(i){e=D(i,"SPAN",{class:!0});var s=X(e);t=Be(s,p[3]),s.forEach(x),this.h()},h(){A(e,"class","text-[#5CAA80] text-sm mb-3 md:mt-2 -mt-2")},m(i,s){ue(i,e,s),R(e,t)},p(i,s){s&8&&Ge(t,i[3])},d(i){i&&x(e)}}}function Si(p){let e,t;return{c(){e=U("img"),this.h()},l(i){e=D(i,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){Le(e.src,t=yi)||A(e,"src",t),A(e,"class","w-8 md:mb-2"),A(e,"alt","red karate uniform icon")},m(i,s){ue(i,e,s)},d(i){i&&x(e)}}}function Ci(p){let e,t;return{c(){e=U("img"),this.h()},l(i){e=D(i,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){Le(e.src,t=bi)||A(e,"src",t),A(e,"class","w-8 md:mb-2"),A(e,"alt","check mark icon")},m(i,s){ue(i,e,s)},d(i){i&&x(e)}}}function Ei(p){let e,t,i,s,u,o=p[0].length>0&&Ct(p);return s=new xt({props:{endpoint:p[11]}}),{c(){e=U("div"),o&&o.c(),t=he(),i=U("div"),We(s.$$.fragment),this.h()},l(y){e=D(y,"DIV",{id:!0,class:!0});var C=X(e);o&&o.l(C),t=fe(C),i=D(C,"DIV",{class:!0});var _=X(i);Je(s.$$.fragment,_),_.forEach(x),C.forEach(x),this.h()},h(){A(i,"class","invisible h-5"),A(e,"id","cards"),A(e,"class","max-w-[920px] mt-4 flex flex-wrap justify-center overflow-y-clip")},m(y,C){ue(y,e,C),o&&o.m(e,null),R(e,t),R(e,i),Xe(s,i,null),u=!0},p(y,C){y[0].length>0?o?(o.p(y,C),C&1&&Oe(o,1)):(o=Ct(y),o.c(),Oe(o,1),o.m(e,t)):o&&(st(),ke(o,1,1,()=>{o=null}),it())},i(y){u||(Oe(o),Oe(s.$$.fragment,y),u=!0)},o(y){ke(o),ke(s.$$.fragment,y),u=!1},d(y){y&&x(e),o&&o.d(),Qe(s)}}}function Oi(p){let e,t="checking endpoints for realtime data",i,s,u;return s=new ri({props:{size:"50",unit:"px"}}),{c(){e=U("span"),e.textContent=t,i=he(),We(s.$$.fragment),this.h()},l(o){e=D(o,"SPAN",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-nfa7ln"&&(e.textContent=t),i=fe(o),Je(s.$$.fragment,o),this.h()},h(){A(e,"class","mt-12 mb-1")},m(o,y){ue(o,e,y),ue(o,i,y),Xe(s,o,y),u=!0},p:Fe,i(o){u||(Oe(s.$$.fragment,o),u=!0)},o(o){ke(s.$$.fragment,o),u=!1},d(o){o&&(x(e),x(i)),Qe(s,o)}}}function Ct(p){let e,t,i=He(p[0]),s=[];for(let o=0;o<i.length;o+=1)s[o]=Et(yt(p,i,o));const u=o=>ke(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=at()},l(o){for(let y=0;y<s.length;y+=1)s[y].l(o);e=at()},m(o,y){for(let C=0;C<s.length;C+=1)s[C]&&s[C].m(o,y);ue(o,e,y),t=!0},p(o,y){if(y&1){i=He(o[0]);let C;for(C=0;C<i.length;C+=1){const _=yt(o,i,C);s[C]?(s[C].p(_,y),Oe(s[C],1)):(s[C]=Et(_),s[C].c(),Oe(s[C],1),s[C].m(e.parentNode,e))}for(st(),C=i.length;C<s.length;C+=1)u(C);it()}},i(o){if(!t){for(let y=0;y<i.length;y+=1)Oe(s[y]);t=!0}},o(o){s=s.filter(Boolean);for(let y=0;y<s.length;y+=1)ke(s[y]);t=!1},d(o){o&&x(e),Ot(s,o)}}}function Et(p){let e,t;return e=new xt({props:{endpoint:p[19]}}),{c(){We(e.$$.fragment)},l(i){Je(e.$$.fragment,i)},m(i,s){Xe(e,i,s),t=!0},p(i,s){const u={};s&1&&(u.endpoint=i[19]),e.$set(u)},i(i){t||(Oe(e.$$.fragment,i),t=!0)},o(i){ke(e.$$.fragment,i),t=!1},d(i){Qe(e,i)}}}function _i(p){let e,t,i,s,u,o,y=`<img src="${jt}" class="max-w-full max-h-[20vh] w-auto h-auto mt-2" alt="dojo node header with trees and the logo"/>`,C,_,O,B,te,$=`<div class="mx-auto relative"><span><span class="text-[#5CAA80] font-bold">tatami</span> <img src="${Ft}" class="icon-big m-auto svelte-z3ie61" alt="tatami flag"/></span> <div class="card md:absolute md:top-0 md:left-36 w-max text-balance md:text-left mt-8 mb-2 max-w-[20rem] svelte-z3ie61"><h1 class="font-bold">taiko prover market</h1> <h2 class="-mt-2">specialized competition</h2></div></div>`,N,le,L,I,ie,j,ce=`<img src="${vi}" class="w-8 mb-2" alt="submit postal icon"/> <span class="hidden md:block">submit endpoint</span>`,K,q,P,k,F,M,S,V,W,J,Q=p[6]?"copied!":"copy All",oe,be,de,ge,ye,_e,Ne,pe,v,Ie,Re,Ee,Y,se,n,r,a;O=new qt({});let f=p[2]!=""&&vt(p),c=p[3]!=""&&St(p);function d(w,E){return w[6]?Ci:Si}let b=d(p),l=b(p);const h=[Oi,Ei],g=[];function m(w,E){return w[7]?0:1}return Y=m(p),se=g[Y]=h[Y](p),{c(){e=U("meta"),t=U("meta"),i=he(),s=U("header"),u=U("span"),o=U("a"),o.innerHTML=y,C=he(),_=U("div"),We(O.$$.fragment),B=he(),te=U("section"),te.innerHTML=$,N=he(),le=U("section"),L=U("div"),I=U("div"),ie=U("div"),j=U("button"),j.innerHTML=ce,K=he(),q=U("input"),P=he(),f&&f.c(),k=he(),c&&c.c(),F=he(),M=U("div"),S=U("div"),V=U("button"),l.c(),W=he(),J=U("span"),oe=je(Q),be=he(),de=U("div"),ge=U("button"),ye=U("img"),Ne=he(),pe=U("img"),Re=he(),Ee=U("section"),se.c(),this.h()},l(w){const E=Rt("svelte-p8s6bz",Ke.head);e=D(E,"META",{name:!0,content:!0}),t=D(E,"META",{property:!0,content:!0}),E.forEach(x),i=fe(w),s=D(w,"HEADER",{class:!0});var T=X(s);u=D(T,"SPAN",{});var z=X(u);o=D(z,"A",{href:!0,"data-svelte-h":!0}),qe(o)!=="svelte-1agkrsh"&&(o.innerHTML=y),C=fe(z),_=D(z,"DIV",{class:!0});var Z=X(_);Je(O.$$.fragment,Z),Z.forEach(x),z.forEach(x),T.forEach(x),B=fe(w),te=D(w,"SECTION",{class:!0,"data-svelte-h":!0}),qe(te)!=="svelte-pdul06"&&(te.innerHTML=$),N=fe(w),le=D(w,"SECTION",{class:!0});var ne=X(le);L=D(ne,"DIV",{class:!0});var G=X(L);I=D(G,"DIV",{class:!0});var H=X(I);ie=D(H,"DIV",{class:!0});var ae=X(ie);j=D(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(j)!=="svelte-qmi3f5"&&(j.innerHTML=ce),K=fe(ae),q=D(ae,"INPUT",{class:!0,type:!0}),ae.forEach(x),P=fe(H),f&&f.l(H),k=fe(H),c&&c.l(H),H.forEach(x),F=fe(G),M=D(G,"DIV",{class:!0});var Te=X(M);S=D(Te,"DIV",{});var De=X(S);V=D(De,"BUTTON",{class:!0});var Pe=X(V);l.l(Pe),W=fe(Pe),J=D(Pe,"SPAN",{class:!0});var ve=X(J);oe=Be(ve,Q),ve.forEach(x),Pe.forEach(x),De.forEach(x),be=fe(Te),de=D(Te,"DIV",{class:!0});var xe=X(de);ge=D(xe,"BUTTON",{class:!0});var we=X(ge);ye=D(we,"IMG",{src:!0,class:!0,alt:!0}),Ne=fe(we),pe=D(we,"IMG",{src:!0,class:!0,alt:!0}),we.forEach(x),xe.forEach(x),Te.forEach(x),G.forEach(x),ne.forEach(x),Re=fe(w),Ee=D(w,"SECTION",{class:!0});var me=X(Ee);se.l(me),me.forEach(x),this.h()},h(){Ke.title="prover market page",A(e,"name","description"),A(e,"content","A prover marketplace of taiko provers where anyone can permissionless add their own prover."),A(t,"property","og:description"),A(t,"content","A prover marketplace of taiko provers where anyone can permissionless add their own prover."),A(o,"href","/shomen"),A(_,"class","w-[60px] ml-auto mr-8 lg:mb-6 md:mb-4 mb-2"),A(s,"class","flex justify-center w-[90%] m-auto"),A(te,"class","svelte-z3ie61"),A(j,"class","flex flex-col items-center md:mb-6"),A(q,"class","shadow appearance-none rounded-full text-[hsl(var(--twc-cardSubBodyColor))] bg-[hsl(var(--twc-inputAccentColor))] w-full px-3 focus:outline-none focus:shadow-outline leading-none"),A(q,"type","text"),A(ie,"class","flex md:flex-col w-full md:w-auto flex-row-reverse md:items-center items-start"),A(I,"class","flex flex-col"),A(J,"class","hidden md:block"),A(V,"class","flex flex-col items-center md:mb-6"),Le(ye.src,_e=It)||A(ye,"src",_e),A(ye,"class","w-6 mr-2"),A(ye,"alt","ticket icon"),Le(pe.src,v=p[5]==="minimumGas"?gt:mt)||A(pe,"src",v),A(pe,"class",Ie="w-4 mr-2 sorting-arrow "+(p[4]&&p[5]==="minimumGas"?"rotate-180":"")+" svelte-z3ie61"),A(pe,"alt","sorting arrow icon"),A(ge,"class","flex w-[65px] items-center bg-[hsl(var(--twc-inputAccentColor))] rounded-full p-2"),A(de,"class","flex gap-2"),A(M,"class","flex md:flex-col items-center w-full md:w-auto justify-between"),A(L,"class","flex md:flex-row flex-col max-w-[820px] w-full justify-around items-center"),A(le,"class","svelte-z3ie61"),A(Ee,"class","svelte-z3ie61")},m(w,E){R(Ke.head,e),R(Ke.head,t),ue(w,i,E),ue(w,s,E),R(s,u),R(u,o),R(u,C),R(u,_),Xe(O,_,null),ue(w,B,E),ue(w,te,E),ue(w,N,E),ue(w,le,E),R(le,L),R(L,I),R(I,ie),R(ie,j),R(ie,K),R(ie,q),ot(q,p[1]),R(I,P),f&&f.m(I,null),R(I,k),c&&c.m(I,null),R(L,F),R(L,M),R(M,S),R(S,V),l.m(V,null),R(V,W),R(V,J),R(J,oe),R(M,be),R(M,de),R(de,ge),R(ge,ye),R(ge,Ne),R(ge,pe),ue(w,Re,E),ue(w,Ee,E),g[Y].m(Ee,null),n=!0,r||(a=[Me(j,"click",p[8]),Me(q,"submit",Lt(p[8])),Me(q,"input",p[12]),Me(V,"click",p[9]),Me(ge,"click",p[13])],r=!0)},p(w,[E]){E&2&&q.value!==w[1]&&ot(q,w[1]),w[2]!=""?f?f.p(w,E):(f=vt(w),f.c(),f.m(I,k)):f&&(f.d(1),f=null),w[3]!=""?c?c.p(w,E):(c=St(w),c.c(),c.m(I,null)):c&&(c.d(1),c=null),b!==(b=d(w))&&(l.d(1),l=b(w),l&&(l.c(),l.m(V,W))),(!n||E&64)&&Q!==(Q=w[6]?"copied!":"copy All")&&Ge(oe,Q),(!n||E&32&&!Le(pe.src,v=w[5]==="minimumGas"?gt:mt))&&A(pe,"src",v),(!n||E&48&&Ie!==(Ie="w-4 mr-2 sorting-arrow "+(w[4]&&w[5]==="minimumGas"?"rotate-180":"")+" svelte-z3ie61"))&&A(pe,"class",Ie);let T=Y;Y=m(w),Y===T?g[Y].p(w,E):(st(),ke(g[T],1,1,()=>{g[T]=null}),it(),se=g[Y],se?se.p(w,E):(se=g[Y]=h[Y](w),se.c()),Oe(se,1),se.m(Ee,null))},i(w){n||(Oe(O.$$.fragment,w),Oe(se),n=!0)},o(w){ke(O.$$.fragment,w),ke(se),n=!1},d(w){w&&(x(i),x(s),x(B),x(te),x(N),x(le),x(Re),x(Ee)),x(e),x(t),Qe(O),f&&f.d(),c&&c.d(),l.d(),g[Y].d(),r=!1,Nt(a)}}}function ki(p,e,t){let i=[],s="",u="",o="",y=!1,C="minimumGas",_=!1,O=!1;const B=new ii("https://provers.dojonode.xyz");async function te(){t(7,O=!0),t(0,i=await B.send("/validProvers",{})),i.sort((K,q)=>K.minimumGas-q.minimumGas),t(7,O=!1)}te();async function $(){try{if(s==="")return;if(t(2,u=""),t(1,s=s.replace(/\/+$/,"")),N(s)){t(2,u="endpoint already exists!");return}await B.collection("prover_endpoints").create({url:s}),te(),t(1,s=""),t(3,o="endpoint successfully added!")}catch(K){console.error(K),t(2,u="endpoint is not valid or reachable!")}}function N(K){return i.find(q=>q.url===K)!==void 0}function le(){let K=i.map(q=>q.url).join(",");if(navigator.clipboard)navigator.clipboard.writeText(K).then(()=>L()).catch(function(){console.error("could not copy to clipboard!")});else{const q=document.createElement("textarea");q.value=K,document.body.appendChild(q),q.select(),document.execCommand("copy"),document.body.removeChild(q),L()}}function L(){t(6,_=!0),setTimeout(()=>{t(6,_=!1)},3e3)}function I(K){C===K?t(4,y=!y):(t(5,C=K),t(4,y=!0)),t(0,i=[...i].sort((q,P)=>y?P[K]-q[K]:q[K]-P[K]))}Ut.subscribe(K=>{document.body.setAttribute("data-theme",K)});let ie={url:"https://example.com/api",minimumProofFee:10};function j(){s=this.value,t(1,s)}return[i,s,u,o,y,C,_,O,$,le,I,ie,j,()=>I("minimumGas")]}class xi extends et{constructor(e){super(),tt(this,e,ki,_i,$e,{})}}export{xi as component};
